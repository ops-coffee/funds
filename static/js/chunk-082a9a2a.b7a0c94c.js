(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-082a9a2a"],{"0d3f":function(t,e,s){},"22e6":function(t,e,s){},"24f8":function(t,e,s){},3360:function(t,e,s){},"34c7":function(t,e,s){"use strict";s("0d3f")},"3a6b":function(t,e,s){"use strict";s("4972")},4972:function(t,e,s){},"5f7c":function(t,e,s){"use strict";s("24f8")},"7abe":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container",class:t.containerClass,style:t.diyContainer?{width:t.containerWidth+"px",height:t.containerHeight+"px"}:"",attrs:{id:"app"}},[s("div",[s("div",{staticClass:"tab-row"},[t._l(t.indFundData,(function(e,a){return s("div",{key:e.f12,staticClass:"tab-col indFund",class:t.drag,attrs:{draggable:t.isEdit},on:{click:function(s){s.stopPropagation(),!t.isEdit&&t.indDetail(e)},dragstart:function(s){return t.handleDragStart(s,e)},dragover:function(s){return s.preventDefault(),t.handleDragOver(s,e)},dragenter:function(s){return t.handleDragEnter(s,e,a)},dragend:function(s){return t.handleDragEnd(s,e)}}},[s("h5",[t._v("\n          "+t._s(e.f14)+"\n          "),t.isEdit?s("span",{staticClass:"dltBtn edit red btn",on:{click:function(e){return t.dltIndFund(a)}}},[t._v("✖")]):t._e()]),s("p",{class:e.f3>=0?"up":"down"},[t._v(t._s(e.f2))]),s("p",{class:e.f3>=0?"up":"down"},[t._v("\n          "+t._s(e.f4)+"  "+t._s(e.f3)+"%\n        ")])])})),t.isEdit&&t.indFundData.length<4?s("div",{staticClass:"tab-col"},[t.showAddSeciInput?s("div",[s("div",{staticStyle:{"padding-top":"2px"}},[s("el-select",{staticStyle:{width:"110px"},attrs:{size:"mini","popper-append-to-body":!1,placeholder:"请选择"},model:{value:t.sltSeci,callback:function(e){t.sltSeci=e},expression:"sltSeci"}},t._l(t.userSeciList,(function(t){return s("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),s("div",{staticStyle:{"margin-top":"4px"}},[s("input",{staticClass:"btn",attrs:{type:"button",value:"取消"},on:{click:function(){return t.showAddSeciInput=!1}}}),s("input",{staticClass:"btn",attrs:{type:"button",value:"确定"},on:{click:t.saveSeci}})])]):s("div",{staticClass:"addSeci",on:{click:function(){return t.showAddSeciInput=!0}}},[t._v("\n          添加\n        ")])]):t._e()],2),s("div",{staticClass:"tab-row"},[s("div",{staticClass:"tab-col",staticStyle:{"text-align":"left"}},[t._v("\n        🔥 两市合计成交\n        "),s("span",[t._v("\n          "+t._s(((t.lastDataList[0].f6+t.lastDataList[1].f6)/1e4/1e4).toFixed(2))+"\n          亿元，")]),t._v("\n        上涨"),s("span",{staticClass:"up"},[t._v("\n          "+t._s(t.lastDataList[0].f104+t.lastDataList[1].f104)+"\n        ")]),t._v("\n        平盘"),s("span",[t._v(" "+t._s(t.lastDataList[0].f106+t.lastDataList[1].f106)+" ")]),t._v("\n        下跌"),s("span",{staticClass:"down"},[t._v("\n          "+t._s(t.lastDataList[0].f105+t.lastDataList[1].f105)+"\n        ")])])]),t.isEdit?s("div",{staticClass:"input-row"},[s("el-select",{staticStyle:{width:"300px"},attrs:{multiple:"",filterable:"","popper-append-to-body":!1,remote:"",size:"mini","reserve-keyword":"",placeholder:"添加新基金，支持按名称或基金代码搜索","remote-method":t.remoteMethod,loading:t.loading},on:{"visible-change":t.selectChange},model:{value:t.fundcode,callback:function(e){t.fundcode=e},expression:"fundcode"}},t._l(t.searchOptions,(function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}},[s("span",{staticStyle:{float:"left"}},[t._v(t._s(e.label))]),s("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px","margim-right":"20px","padding-right":"15px"}},[t._v(t._s(e.value))])])})),1),s("input",{staticClass:"btn",attrs:{type:"button",value:"确定"},on:{click:t.save}})],1):t._e(),t.isEdit?s("p",{staticClass:"tips center"},[t._v("\n      部分新发基金或QDII基金可以搜索到，但可能无法获取估值\n    ")]):t._e(),s("div",{staticClass:"table-row",class:t.tableHeight},[s("table",[s("thead",[s("tr",[s("th",{staticClass:"align-left"},[t._v("基金名称("+t._s(t.dataList.length)+")")]),t.isEdit?s("th",[t._v("代码")]):t._e(),t.showGSZ&&!t.isEdit?s("th",{staticStyle:{"min-width":"50px"}},[t._v("\n              估算净值\n            ")]):t._e(),t.isEdit&&(t.showCostRate||t.showCost)?s("th",{staticStyle:{"text-align":"center"}},[t._v("\n              成本价\n            ")]):t._e(),t.showAmount?s("th",{staticClass:"pointer",staticStyle:{"min-width":"50px"},on:{click:function(e){return t.sortList("amount")}}},[t._v("\n              持有额\n              "),s("span",{staticClass:"down-arrow",class:t.sortType.amount})]):t._e(),t.showCost&&!t.isEdit?s("th",{staticClass:"pointer",staticStyle:{"min-width":"60px"},on:{click:function(e){return t.sortList("costGains")}}},[t._v("\n              持有收益\n              "),s("span",{staticClass:"down-arrow",class:t.sortType.costGains})]):t._e(),t.showCostRate&&!t.isEdit?s("th",{staticClass:"pointer",staticStyle:{"min-width":"72px"},on:{click:function(e){return t.sortList("costGainsRate")}}},[t._v("\n              持有收益率\n              "),s("span",{staticClass:"down-arrow",class:t.sortType.costGainsRate})]):t._e(),t.isEdit?t._e():s("th",{staticClass:"pointer",staticStyle:{"min-width":"60px"},on:{click:function(e){return t.sortList("gszzl")}}},[t._v("\n              涨跌幅\n              "),s("span",{staticClass:"down-arrow",class:t.sortType.gszzl})]),t.showGains&&!t.isEdit?s("th",{staticClass:"pointer",staticStyle:{"min-width":"60px"},on:{click:function(e){return t.sortList("gains")}}},[t._v("\n              估算收益\n              "),s("span",{staticClass:"down-arrow",class:t.sortType.gains})]):t._e(),t.isEdit?t._e():s("th",{staticStyle:{"min-width":"50px"}},[t._v("更新时间")]),t.isEdit&&(t.showAmount||t.showGains||t.showCost||t.showCostRate)?s("th",{staticStyle:{"text-align":"center"}},[t._v("\n              持有份额\n            ")]):t._e(),t.isEdit&&1==t.BadgeContent?s("th",{staticStyle:{"min-width":"28px"}},[t._v("\n              关注\n            ")]):t._e(),t.isEdit?s("th",{staticStyle:{"min-width":"28px"}},[t._v("删除")]):t._e()])]),s("tbody",t._l(t.dataList,(function(e,a){return s("tr",{key:e.fundcode,class:t.drag,attrs:{draggable:t.isEdit},on:{dragstart:function(s){return t.handleDragStart(s,e)},dragover:function(s){return s.preventDefault(),t.handleDragOver(s,e)},dragenter:function(s){return t.handleDragEnter(s,e,a)},dragend:function(s){return t.handleDragEnd(s,e)}}},[s("td",{class:t.isEdit?"fundName-noclick align-left":"fundName align-left",attrs:{title:e.name},on:{click:function(s){s.stopPropagation(),!t.isEdit&&t.fundDetail(e)}}},[t._v("\n              "+t._s(e.name)+"\n            ")]),t.isEdit?s("td",[t._v(t._s(e.fundcode))]):t._e(),t.showGSZ&&!t.isEdit?s("td",[t._v(t._s(e.gsz))]):t._e(),t.isEdit&&(t.showCostRate||t.showCost)?s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.cost,expression:"el.cost"}],staticClass:"btn num",attrs:{placeholder:"持仓成本价",type:"text"},domProps:{value:e.cost},on:{input:[function(s){s.target.composing||t.$set(e,"cost",s.target.value)},function(s){return t.changeCost(e,a)}]}})]):t._e(),t.showAmount?s("td",[t._v(t._s(e.amount))]):t._e(),t.showCost&&!t.isEdit?s("td",{class:e.costGains>=0?"up":"down"},[t._v("\n              "+t._s(e.costGains)+"\n            ")]):t._e(),t.showCostRate&&!t.isEdit?s("td",{class:e.costGainsRate>=0?"up":"down"},[t._v("\n              "+t._s(e.cost>0?e.costGainsRate+"%":"")+"\n            ")]):t._e(),t.isEdit?t._e():s("td",{class:e.gszzl>=0?"up":"down"},[t._v("\n              "+t._s(e.gszzl)+"%\n            ")]),t.showGains&&!t.isEdit?s("td",{class:e.gains>=0?"up":"down"},[t._v("\n              "+t._s(e.gains)+"\n            ")]):t._e(),t.isEdit?t._e():s("td",[t._v("\n              "+t._s(e.hasReplace?e.gztime.substr(5,5):e.gztime.substr(-5))+"\n              "),e.hasReplace?s("span",{staticClass:"hasReplace-tip"},[t._v("✔")]):t._e()]),t.isEdit&&(t.showAmount||t.showGains||t.showCost||t.showCostRate)?s("th",{staticStyle:{"text-align":"center"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.num,expression:"el.num"}],staticClass:"btn num",attrs:{placeholder:"输入持有份额",type:"text"},domProps:{value:e.num},on:{input:[function(s){s.target.composing||t.$set(e,"num",s.target.value)},function(s){return t.changeNum(e,a)}]}})]):t._e(),t.isEdit&&1==t.BadgeContent?s("td",[s("input",{staticClass:"btn edit",class:e.fundcode==t.RealtimeFundcode?"slt":"",attrs:{value:"✔",type:"button"},on:{click:function(s){return t.slt(e.fundcode)}}})]):t._e(),t.isEdit?s("td",[s("input",{staticClass:"btn red edit",attrs:{value:"✖",type:"button"},on:{click:function(s){return t.dlt(e.fundcode)}}})]):t._e()])})),0)])])]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.isEdit,expression:"isEdit"}],staticClass:"input-row"},[s("el-switch",{attrs:{"active-color":"#484848","inactive-color":"#13ce66","inactive-text":"标准模式","active-text":"暗色模式"},on:{change:t.changeDarkMode},model:{value:t.darkMode,callback:function(e){t.darkMode=e},expression:"darkMode"}})],1),s("div",{staticClass:"input-row"},[s("input",{staticClass:"btn",attrs:{type:"button",value:"行情中心"},on:{click:t.market}}),t.isDuringDate?s("input",{staticClass:"btn",attrs:{type:"button",value:t.isLiveUpdate?"暂停更新":"实时更新",title:t.isLiveUpdate?"正在实时更新，点击暂停":"已暂停，点击切换为实时更新"},on:{click:t.changeLiveUpdate}}):t._e(),t.isDuringDate?t._e():s("input",{staticClass:"btn",attrs:{type:"button",value:"休市中"}}),s("input",{staticClass:"btn",attrs:{type:"button",value:t.isEdit?"完成编辑":"编辑"},on:{click:function(e){t.isEdit=!t.isEdit}}}),s("input",{staticClass:"btn",attrs:{type:"button",value:"设置"},on:{click:t.option}}),s("input",{staticClass:"btn",attrs:{type:"button",value:"分析"},on:{click:t.analytics}}),s("input",{staticClass:"btn primary",attrs:{type:"button",title:"φ(>ω<*)",value:"支持"},on:{click:t.reward}})]),s("div",{staticClass:"input-row",staticStyle:{position:"relative"}},[t.showGains?s("input",{staticClass:"btn",class:t.allGains>=0?"btn-up":"btn-down",attrs:{type:"button",title:t.allGains>=0?"d=====(￣▽￣*)b 赞一个":"∑(っ°Д°;)っ 大事不好啦",value:"当日收益："+t.allGains+"("+t.dailyYield+")"}}):t._e(),t.showCost?s("input",{staticClass:"btn",class:t.allCostGains[0]>=0?"btn-up":"btn-down",attrs:{type:"button",title:t.allCostGains[0]>=0?"d=====(￣▽￣*)b 赞一个":"∑(っ°Д°;)っ 大事不好啦",value:"持有收益："+parseFloat(t.allCostGains[0]).toLocaleString("zh",{minimumFractionDigits:2})+(isNaN(t.allCostGains[1])?"":"（"+t.allCostGains[1]+"%）")}}):t._e(),s("div",{staticClass:"refresh",class:{isRefresh:t.isRefresh},attrs:{title:"手动刷新数据"},on:{click:t.refresh}},[s("i",{staticClass:"el-icon-refresh"})])]),s("market",{ref:"marketShadow",attrs:{darkMode:t.darkMode},on:{close:t.closeCharts}}),s("ind-detail",{ref:"indDetail",attrs:{darkMode:t.darkMode},on:{close:t.closeCharts}}),s("fund-detail",{ref:"charts",attrs:{fund:t.sltFund,darkMode:t.darkMode},on:{close:t.closeCharts}}),s("reward",{ref:"reward",on:{close:function(e){t.rewardShadow=!1}}})],1)},i=[],n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.rewardShadow?s("div",{staticClass:"shadow"},[s("div",{staticClass:"reward-box",style:{marginTop:t.top+"px"}},[t._m(0),s("p",{staticClass:"tips reward-tips"},[t._v("\n      使用此服务不需要您的现金打赏，上边是一个微信公众号【天天选好基】的二维码\n    ")]),s("p",{staticClass:"tips reward-tips"},[t._v("\n      好朋友的一个试验项目，实盘分享持仓、收益、操作以及投资心得，期待您的关注\n    ")]),s("div",{staticClass:"tab-row"},[s("input",{staticClass:"btn success",attrs:{type:"button",value:"关注好了"},on:{click:t.close}}),s("input",{staticClass:"btn",attrs:{type:"button",value:"下次一定"},on:{click:t.close}})])])]):t._e()},o=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"qrcode"},[s("img",{attrs:{src:"https://blz.nosdn.127.net/sre/funds.jpg"}})])}],l={props:{top:{type:Number,default:0}},data(){return{rewardShadow:!1,checked:"wepay"}},mounted(){},methods:{init(){this.rewardShadow=!0},close(){this.rewardShadow=!1,this.$emit("close",!1)}}},d=l,r=(s("5f7c"),s("2877")),c=Object(r["a"])(d,n,o,!1,null,"74fb9a44",null),h=c.exports,u=s("1f5f"),f=s("45cf"),p=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.boxShadow?s("div",{staticClass:"shadow",class:t.darkMode?"darkMode":""},[s("div",{staticClass:"content-box"},[s("h5",[t._v("行情中心")]),s("el-tabs",{attrs:{type:"border-card"},on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[s("el-tab-pane",{attrs:{lazy:"",label:"大盘资金",name:"first"}},[s("market-line",{ref:"first",attrs:{darkMode:t.darkMode}})],1),s("el-tab-pane",{attrs:{lazy:"",label:"行业板块",name:"second"}},[s("market-bar",{ref:"second",attrs:{darkMode:t.darkMode}})],1),s("el-tab-pane",{attrs:{lazy:"",label:"北向资金",name:"third"}},[s("market-S2N",{ref:"third",attrs:{darkMode:t.darkMode}})],1),s("el-tab-pane",{attrs:{lazy:"",label:"南向资金",name:"fourth"}},[s("market-N2S",{ref:"fourth",attrs:{darkMode:t.darkMode}})],1)],1),s("div",{staticClass:"tab-row"},[s("input",{staticClass:"btn",attrs:{type:"button",value:"返回列表"},on:{click:t.close}})])],1)]):t._e()},m=[],g=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"box",attrs:{"element-loading-background":t.darkMode?"rgba(0, 0, 0, 0.9)":"rgba(255, 255, 255, 0.9)"}},[s("div",{ref:"mainCharts",staticClass:"main-echarts"}),s("div",[s("ul",{staticClass:"chart-list"},[s("li",[t._v("\n        上证："),s("span",[t._v("成交\n          "+t._s((t.lastDataList[0].f6/1e4/1e4).toFixed(2))+" 亿元，")]),s("span",{staticClass:"red"},[t._v("上涨 "+t._s(t.lastDataList[0].f104)+" ")]),s("span",[t._v(" 平盘 "+t._s(t.lastDataList[0].f106)+" ")]),s("span",{staticClass:"green"},[t._v(" 下跌 "+t._s(t.lastDataList[0].f105)+" ")])]),s("li",[t._v("\n        深证："),s("span",[t._v("成交\n          "+t._s((t.lastDataList[1].f6/1e4/1e4).toFixed(2))+" 亿元，")]),s("span",{staticClass:"red"},[t._v("上涨 "+t._s(t.lastDataList[1].f104)+" ")]),s("span",[t._v(" 平盘 "+t._s(t.lastDataList[1].f106)+" ")]),s("span",{staticClass:"green"},[t._v(" 下跌 "+t._s(t.lastDataList[1].f105)+" ")])]),s("li",[t._v("\n        两市合计成交\n        "),s("span",[t._v(t._s(((t.lastDataList[0].f6+t.lastDataList[1].f6)/1e4/1e4).toFixed(2))+"\n          亿元，")]),t._v("\n        上涨"),s("span",{staticClass:"red"},[t._v("\n          "+t._s(t.lastDataList[0].f104+t.lastDataList[1].f104)+"\n        ")]),t._v("\n        平盘"),s("span",[t._v(" "+t._s(t.lastDataList[0].f106+t.lastDataList[1].f106)+" ")]),t._v("\n        下跌"),s("span",{staticClass:"green"},[t._v("\n          "+t._s(t.lastDataList[0].f105+t.lastDataList[1].f105)+"\n        ")])])])])])},v=[];s("9d2d"),s("b87b");let y=s("3eba");s("ef97"),s("007d"),s("d28f");var b={name:"marketLine",props:{darkMode:{type:Boolean,default:!1}},data(){return{chartEL:null,myChart:null,minVal:null,option:{},loading:!1,timeData:["09:30","09:31","09:32","09:33","09:34","09:35","09:36","09:37","09:38","09:39","09:40","09:41","09:42","09:43","09:44","09:45","09:46","09:47","09:48","09:49","09:50","09:51","09:52","09:53","09:54","09:55","09:56","09:57","09:58","09:59","10:00","10:01","10:02","10:03","10:04","10:05","10:06","10:07","10:08","10:09","10:10","10:11","10:12","10:13","10:14","10:15","10:16","10:17","10:18","10:19","10:20","10:21","10:22","10:23","10:24","10:25","10:26","10:27","10:28","10:29","10:30","10:31","10:32","10:33","10:34","10:35","10:36","10:37","10:38","10:39","10:40","10:41","10:42","10:43","10:44","10:45","10:46","10:47","10:48","10:49","10:50","10:51","10:52","10:53","10:54","10:55","10:56","10:57","10:58","10:59","11:00","11:01","11:02","11:03","11:04","11:05","11:06","11:07","11:08","11:09","11:10","11:11","11:12","11:13","11:14","11:15","11:16","11:17","11:18","11:19","11:20","11:21","11:22","11:23","11:24","11:25","11:26","11:27","11:28","11:29","11:30","13:01","13:02","13:03","13:04","13:05","13:06","13:07","13:08","13:09","13:10","13:11","13:12","13:13","13:14","13:15","13:16","13:17","13:18","13:19","13:20","13:21","13:22","13:23","13:24","13:25","13:26","13:27","13:28","13:29","13:30","13:31","13:32","13:33","13:34","13:35","13:36","13:37","13:38","13:39","13:40","13:41","13:42","13:43","13:44","13:45","13:46","13:47","13:48","13:49","13:50","13:51","13:52","13:53","13:54","13:55","13:56","13:57","13:58","13:59","14:00","14:01","14:02","14:03","14:04","14:05","14:06","14:07","14:08","14:09","14:10","14:11","14:12","14:13","14:14","14:15","14:16","14:17","14:18","14:19","14:20","14:21","14:22","14:23","14:24","14:25","14:26","14:27","14:28","14:29","14:30","14:31","14:32","14:33","14:34","14:35","14:36","14:37","14:38","14:39","14:40","14:41","14:42","14:43","14:44","14:45","14:46","14:47","14:48","14:49","14:50","14:51","14:52","14:53","14:54","14:55","14:56","14:57","14:58","14:59","15:00"],lastDataList:[{},{}]}},watch:{},computed:{defaultColor(){return this.darkMode?"rgba(255,255,255,0.6)":"#ccc"}},mounted(){this.init()},beforeDestroy(){this.myChart.clear()},methods:{init(){this.chartEL=this.$refs.mainCharts,this.myChart=y.init(this.chartEL,this.darkMode?"dark":"customed"),this.option={tooltip:{trigger:"axis"},grid:{top:55,bottom:30,right:30},xAxis:{type:"category",data:this.timeData,axisLabel:{formatter:this.fmtAxis,interval:this.fmtVal},axisLine:{onZero:!1}},yAxis:{type:"value",name:"单位：亿元",scale:!0,axisLabel:{color:this.defaultColor},splitLine:{show:!0,lineStyle:{type:"dashed",color:this.defaultColor}},data:[]},series:[{type:"line",data:[]}]},this.getSum(),this.getData()},getSum(){this.loading=!0;let t="https://push2.eastmoney.com/api/qt/ulist.np/get?fltt=2&secids=1.000001,0.399001&fields=f1,f2,f3,f4,f6,f12,f13,f104,f105,f106&_="+(new Date).getTime();this.$axios.get(t).then(t=>{this.loading=!1,this.lastDataList=t.data.diff})},getData(){let t="https://push2.eastmoney.com/api/qt/stock/fflow/kline/get?lmt=0&klt=1&secid=1.000001&secid2=0.399001&fields1=f1,f2,f3,f7&fields2=f51,f52,f53,f54,f55,f56,f57,f58,f59,f60,f61,f62,f63&_="+(new Date).getTime();this.$axios.get(t).then(t=>{this.loading=!1;let e=t.data.klines,s=[0],a=[0],i=[0],n=[0],o=[0];e&&(e.forEach(t=>{let e=t.split(",");s.push((e[1]/1e8).toFixed(4)),a.push((e[2]/1e8).toFixed(4)),i.push((e[3]/1e8).toFixed(4)),n.push((e[4]/1e8).toFixed(4)),o.push((e[5]/1e8).toFixed(4))}),this.option.legend={show:!0},this.option.series=[{type:"line",name:"主力",data:s},{type:"line",name:"超大单",data:o},{type:"line",name:"大单",data:n},{type:"line",name:"中单",data:i},{type:"line",name:"小单",data:a}],this.myChart.setOption(this.option))})},fmtAxis(t,e){return"11:30"==t?"11:30/13:00":t},fmtVal(t,e){let s=["09:30","10:30","11:30","14:00","15:00"];return-1!=s.indexOf(e)}}},w=b,x=(s("c48a"),Object(r["a"])(w,g,v,!1,null,"3a9f6afc",null)),L=x.exports,_=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"box",attrs:{"element-loading-background":t.darkMode?"rgba(0, 0, 0, 0.9)":"rgba(255, 255, 255, 0.9)"}},[s("div",{ref:"mainCharts",staticClass:"main-echarts"})])},C=[];let D=s("3eba");s("ef97"),s("007d"),s("d28f"),s("0a6d");var k={name:"marketBar",props:{darkMode:{type:Boolean,default:!1}},data(){return{chartEL:null,myChart:null,option:{},loading:!1}},watch:{},computed:{defaultColor(){return this.darkMode?"rgba(255,255,255,0.6)":"#ccc"}},mounted(){this.init()},beforeDestroy(){this.myChart.clear()},methods:{init(){this.chartEL=this.$refs.mainCharts,this.myChart=D.init(this.chartEL,this.darkMode?"dark":"customed"),this.option={tooltip:{trigger:"axis",formatter:t=>`${t[0].name}<br />${(t[0].value/1e8).toFixed(2)}亿元`},grid:{top:30,bottom:110,right:30},xAxis:{type:"category",data:[],axisLabel:{formatter:t=>t.split("").join("\n")}},yAxis:{type:"value",name:"单位：亿元",scale:!0,axisLabel:{color:this.defaultColor,formatter:t=>(t/1e8).toFixed(2)},splitLine:{show:!0,lineStyle:{type:"dashed",color:this.defaultColor}},data:[]},dataZoom:[{type:"slider",show:!0,xAxisIndex:[0],start:0,end:30},{type:"inside",xAxisIndex:[0],start:0,end:30}],series:[{type:"bar",data:[]}]},this.getData()},getData(){this.loading=!0;let t="https://push2.eastmoney.com/api/qt/clist/get?pn=1&pz=500&po=1&np=1&fields=f12,f13,f14,f62&fid=f62&fs=m:90+t:2&_="+(new Date).getTime();this.$axios.get(t).then(t=>{this.loading=!1;let e=t.data.diff,s=[],a=[];e&&(e.forEach(t=>{s.push(t.f14),a.push(t.f62)}),this.option.xAxis.data=s,this.option.series=[{type:"bar",data:a,itemStyle:{normal:{color:function(t){return t.value>=0?"#f56c6c":"#4eb61b"}}}}],this.myChart.setOption(this.option))})},fmtAxis(t,e){return"11:30"==t?"11:30/13:00":t},fmtVal(t,e){let s=["09:30","10:30","11:30","14:00","15:00"];return-1!=s.indexOf(e)}}},M=k,S=(s("34c7"),Object(r["a"])(M,_,C,!1,null,"01be5fe0",null)),E=S.exports,F=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"box",attrs:{"element-loading-background":t.darkMode?"rgba(0, 0, 0, 0.9)":"rgba(255, 255, 255, 0.9)"}},[s("div",{ref:"mainCharts",staticClass:"main-echarts"}),s("div",[s("ul",{staticClass:"chart-list"},[s("li",[t._v("\n        沪股通 当日净流入\n        "),s("span",{class:t.lastDataList[1]>0?"red":"green"},[t._v(t._s((t.lastDataList[1]/1e4).toFixed(2))+" 亿元")]),s("span",[t._v("，当日余额 ")]),s("span",{class:t.lastDataList[2]>0?"red":"green"},[t._v(t._s((t.lastDataList[2]/1e4).toFixed(2))+" 亿元")])]),s("li",[t._v("\n        深股通 当日净流入\n        "),s("span",{class:t.lastDataList[3]>0?"red":"green"},[t._v(t._s((t.lastDataList[3]/1e4).toFixed(2))+" 亿元")]),s("span",[t._v("，当日余额 ")]),s("span",{class:t.lastDataList[4]>0?"red":"green"},[t._v(t._s((t.lastDataList[4]/1e4).toFixed(2))+" 亿元")])]),s("li",[t._v("\n        北向资金 当日净流入\n        "),s("span",{class:t.lastDataList[5]>0?"red":"green"},[t._v(t._s((t.lastDataList[5]/1e4).toFixed(2))+" 亿元")])])])])])},G=[];let I=s("3eba");s("ef97"),s("007d"),s("d28f");var T={name:"marketS2N",props:{darkMode:{type:Boolean,default:!1}},data(){return{chartEL:null,myChart:null,minVal:null,option:{},loading:!1,timeData:["09:30","09:31","09:32","09:33","09:34","09:35","09:36","09:37","09:38","09:39","09:40","09:41","09:42","09:43","09:44","09:45","09:46","09:47","09:48","09:49","09:50","09:51","09:52","09:53","09:54","09:55","09:56","09:57","09:58","09:59","10:00","10:01","10:02","10:03","10:04","10:05","10:06","10:07","10:08","10:09","10:10","10:11","10:12","10:13","10:14","10:15","10:16","10:17","10:18","10:19","10:20","10:21","10:22","10:23","10:24","10:25","10:26","10:27","10:28","10:29","10:30","10:31","10:32","10:33","10:34","10:35","10:36","10:37","10:38","10:39","10:40","10:41","10:42","10:43","10:44","10:45","10:46","10:47","10:48","10:49","10:50","10:51","10:52","10:53","10:54","10:55","10:56","10:57","10:58","10:59","11:00","11:01","11:02","11:03","11:04","11:05","11:06","11:07","11:08","11:09","11:10","11:11","11:12","11:13","11:14","11:15","11:16","11:17","11:18","11:19","11:20","11:21","11:22","11:23","11:24","11:25","11:26","11:27","11:28","11:29","11:30","13:01","13:02","13:03","13:04","13:05","13:06","13:07","13:08","13:09","13:10","13:11","13:12","13:13","13:14","13:15","13:16","13:17","13:18","13:19","13:20","13:21","13:22","13:23","13:24","13:25","13:26","13:27","13:28","13:29","13:30","13:31","13:32","13:33","13:34","13:35","13:36","13:37","13:38","13:39","13:40","13:41","13:42","13:43","13:44","13:45","13:46","13:47","13:48","13:49","13:50","13:51","13:52","13:53","13:54","13:55","13:56","13:57","13:58","13:59","14:00","14:01","14:02","14:03","14:04","14:05","14:06","14:07","14:08","14:09","14:10","14:11","14:12","14:13","14:14","14:15","14:16","14:17","14:18","14:19","14:20","14:21","14:22","14:23","14:24","14:25","14:26","14:27","14:28","14:29","14:30","14:31","14:32","14:33","14:34","14:35","14:36","14:37","14:38","14:39","14:40","14:41","14:42","14:43","14:44","14:45","14:46","14:47","14:48","14:49","14:50","14:51","14:52","14:53","14:54","14:55","14:56","14:57","14:58","14:59","15:00"],lastDataList:[0,0,0,0,0,0]}},watch:{},computed:{defaultColor(){return this.darkMode?"rgba(255,255,255,0.6)":"#ccc"}},mounted(){this.init()},beforeDestroy(){this.myChart.clear()},methods:{init(){this.chartEL=this.$refs.mainCharts,this.myChart=I.init(this.chartEL,this.darkMode?"dark":"customed"),this.option={tooltip:{trigger:"axis"},grid:{top:55,bottom:30,right:30},xAxis:{type:"category",data:this.timeData,axisLabel:{formatter:this.fmtAxis,interval:this.fmtVal},axisLine:{onZero:!1}},yAxis:{type:"value",name:"单位：亿元",scale:!0,axisLabel:{color:this.defaultColor},splitLine:{show:!0,lineStyle:{type:"dashed",color:this.defaultColor}},data:[]},series:[{type:"line",data:[]}]},this.getData()},getData(){this.loading=!0;let t="https://push2.eastmoney.com/api/qt/kamt.rtmin/get?fields1=f1,f2,f3,f4&fields2=f51,f52,f53,f54,f55,f56&ut=&?v="+(new Date).getTime();this.$axios.get(t).then(t=>{this.loading=!1;let e=t.data,s=e.s2n,a=[],i=[],n=[],o=[],l=[];s&&(s.forEach(t=>{let e=t.split(",");"-"!=e[1]&&(this.lastDataList=e),a.push((e[1]/1e4).toFixed(4)),i.push((e[2]/1e4).toFixed(4)),n.push((e[3]/1e4).toFixed(4)),o.push((e[4]/1e4).toFixed(4)),l.push((e[5]/1e4).toFixed(4))}),this.option.legend={show:!0},this.option.series=[{type:"line",name:"沪股通",data:a},{type:"line",name:"深股通",data:n},{type:"line",name:"北向资金",data:l}],this.myChart.setOption(this.option))})},fmtAxis(t,e){return"11:30"==t?"11:30/13:00":t},fmtVal(t,e){let s=["09:30","10:30","11:30","14:00","15:00"];return-1!=s.indexOf(e)}}},A=T,R=(s("3a6b"),Object(r["a"])(A,F,G,!1,null,"d4104aae",null)),O=R.exports,z=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"box",attrs:{"element-loading-background":t.darkMode?"rgba(0, 0, 0, 0.9)":"rgba(255, 255, 255, 0.9)"}},[s("div",{ref:"mainCharts",staticClass:"main-echarts"}),s("div",[s("ul",{staticClass:"chart-list"},[s("li",[t._v("\n        港股通（沪） 当日净流入\n        "),s("span",{class:t.lastDataList[1]>0?"red":"green"},[t._v(t._s((t.lastDataList[1]/1e4).toFixed(2))+" 亿元")]),s("span",[t._v("，当日余额 ")]),s("span",{class:t.lastDataList[2]>0?"red":"green"},[t._v(t._s((t.lastDataList[2]/1e4).toFixed(2))+" 亿元")])]),s("li",[t._v("\n        港股通（深） 当日净流入\n        "),s("span",{class:t.lastDataList[3]>0?"red":"green"},[t._v(t._s((t.lastDataList[3]/1e4).toFixed(2))+" 亿元")]),s("span",[t._v("，当日余额 ")]),s("span",{class:t.lastDataList[4]>0?"red":"green"},[t._v(t._s((t.lastDataList[4]/1e4).toFixed(2))+" 亿元")])]),s("li",[t._v("\n        南向资金 当日净流入\n        "),s("span",{class:t.lastDataList[5]>0?"red":"green"},[t._v(t._s((t.lastDataList[5]/1e4).toFixed(2))+" 亿元")])])])])])},N=[];let j=s("3eba");s("ef97"),s("007d"),s("d28f");var $={name:"marketS2N",props:{darkMode:{type:Boolean,default:!1}},data(){return{chartEL:null,myChart:null,minVal:null,option:{},loading:!1,timeData:["09:00","09:01","09:02","09:03","09:04","09:05","09:06","09:07","09:08","09:09","09:10","09:11","09:12","09:13","09:14","09:15","09:16","09:17","09:18","09:19","09:20","09:21","09:22","09:23","09:24","09:25","09:26","09:27","09:28","09:29","09:30","09:31","09:32","09:33","09:34","09:35","09:36","09:37","09:38","09:39","09:40","09:41","09:42","09:43","09:44","09:45","09:46","09:47","09:48","09:49","09:50","09:51","09:52","09:53","09:54","09:55","09:56","09:57","09:58","09:59","10:00","10:01","10:02","10:03","10:04","10:05","10:06","10:07","10:08","10:09","10:10","10:11","10:12","10:13","10:14","10:15","10:16","10:17","10:18","10:19","10:20","10:21","10:22","10:23","10:24","10:25","10:26","10:27","10:28","10:29","10:30","10:31","10:32","10:33","10:34","10:35","10:36","10:37","10:38","10:39","10:40","10:41","10:42","10:43","10:44","10:45","10:46","10:47","10:48","10:49","10:50","10:51","10:52","10:53","10:54","10:55","10:56","10:57","10:58","10:59","11:00","11:01","11:02","11:03","11:04","11:05","11:06","11:07","11:08","11:09","11:10","11:11","11:12","11:13","11:14","11:15","11:16","11:17","11:18","11:19","11:20","11:21","11:22","11:23","11:24","11:25","11:26","11:27","11:28","11:29","11:30","11:31","11:32","11:33","11:34","11:35","11:36","11:37","11:38","11:39","11:40","11:41","11:42","11:43","11:44","11:45","11:46","11:47","11:48","11:49","11:50","11:51","11:52","11:53","11:54","11:55","11:56","11:57","11:58","11:59","12:00","13:01","13:02","13:03","13:04","13:05","13:06","13:07","13:08","13:09","13:10","13:11","13:12","13:13","13:14","13:15","13:16","13:17","13:18","13:19","13:20","13:21","13:22","13:23","13:24","13:25","13:26","13:27","13:28","13:29","13:30","13:31","13:32","13:33","13:34","13:35","13:36","13:37","13:38","13:39","13:40","13:41","13:42","13:43","13:44","13:45","13:46","13:47","13:48","13:49","13:50","13:51","13:52","13:53","13:54","13:55","13:56","13:57","13:58","13:59","14:00","14:01","14:02","14:03","14:04","14:05","14:06","14:07","14:08","14:09","14:10","14:11","14:12","14:13","14:14","14:15","14:16","14:17","14:18","14:19","14:20","14:21","14:22","14:23","14:24","14:25","14:26","14:27","14:28","14:29","14:30","14:31","14:32","14:33","14:34","14:35","14:36","14:37","14:38","14:39","14:40","14:41","14:42","14:43","14:44","14:45","14:46","14:47","14:48","14:49","14:50","14:51","14:52","14:53","14:54","14:55","14:56","14:57","14:58","14:59","15:00","15:01","15:02","15:03","15:04","15:05","15:06","15:07","15:08","15:09","15:10","15:11","15:12","15:13","15:14","15:15","15:16","15:17","15:18","15:19","15:20","15:21","15:22","15:23","15:24","15:25","15:26","15:27","15:28","15:29","15:30","15:31","15:32","15:33","15:34","15:35","15:36","15:37","15:38","15:39","15:40","15:41","15:42","15:43","15:44","15:45","15:46","15:47","15:48","15:49","15:50","15:51","15:52","15:53","15:54","15:55","15:56","15:57","15:58","15:59","16:00","16:01","16:02","16:03","16:04","16:05","16:06","16:07","16:08","16:09","16:10"],lastDataList:[0,0,0,0,0,0]}},watch:{},computed:{defaultColor(){return this.darkMode?"rgba(255,255,255,0.6)":"#ccc"}},mounted(){this.init()},beforeDestroy(){this.myChart.clear()},methods:{init(){this.chartEL=this.$refs.mainCharts,this.myChart=j.init(this.chartEL,this.darkMode?"dark":"customed"),this.option={tooltip:{trigger:"axis"},grid:{top:55,bottom:30,right:30},xAxis:{type:"category",data:this.timeData,axisLabel:{formatter:this.fmtAxis,interval:this.fmtVal},axisLine:{onZero:!1}},yAxis:{type:"value",name:"单位：亿元",scale:!0,axisLabel:{color:this.defaultColor},splitLine:{show:!0,lineStyle:{type:"dashed",color:this.defaultColor}},data:[]},series:[{type:"line",data:[]}]},this.getData()},getData(){this.loading=!0;let t="https://push2.eastmoney.com/api/qt/kamt.rtmin/get?fields1=f1,f2,f3,f4&fields2=f51,f52,f53,f54,f55,f56&ut=&?v="+(new Date).getTime();this.$axios.get(t).then(t=>{this.loading=!1;let e=t.data,s=e.n2s,a=[],i=[],n=[],o=[],l=[];s&&(s.forEach(t=>{let e=t.split(",");"-"!=e[1]&&(this.lastDataList=e),a.push((e[1]/1e4).toFixed(4)),i.push((e[2]/1e4).toFixed(4)),n.push((e[3]/1e4).toFixed(4)),o.push((e[4]/1e4).toFixed(4)),l.push((e[5]/1e4).toFixed(4))}),this.option.legend={show:!0},this.option.series=[{type:"line",name:"港股通（沪）",data:a},{type:"line",name:"港股通（深）",data:n},{type:"line",name:"南向资金",data:l}],this.myChart.setOption(this.option))})},fmtAxis(t,e){return"12:00"==t?"12:00/13:00":t},fmtVal(t,e){let s=["09:30","10:30","12:00","14:35","15:00"];return-1!=s.indexOf(e)}}},V=$,B=(s("cb7f"),Object(r["a"])(V,z,N,!1,null,"16083520",null)),Z=B.exports,U={components:{marketLine:L,marketBar:E,marketS2N:O,marketN2S:Z},name:"market",props:{darkMode:{type:Boolean,default:!1}},data(){return{activeName:"first",boxShadow:!1}},watch:{},mounted(){},methods:{handleClick(t,e){this.activeName=t.name},init(){this.boxShadow=!0},close(){this.boxShadow=!1,this.$emit("close",!1)}}},q=U,P=(s("c602"),Object(r["a"])(q,p,m,!1,null,"50f0362c",null)),H=P.exports,J=s("527b");const{version:W}=s("9224");let X=null;function Y(t,e=700){null!==X&&clearTimeout(X),X=setTimeout(t,e)}var Q={components:{reward:h,fundDetail:f["a"],indDetail:u["a"],market:H},data(){return{isEdit:!1,fundcode:"",isAdd:!1,indFundData:[],isLiveUpdate:!1,isDuringDate:!1,RealtimeFundcode:null,dataList:[],dataListDft:[],myVar:null,myVar1:null,rewardShadow:!1,checked:"wepay",showGains:!1,showAmount:!1,showCost:!1,showCostRate:!1,showGSZ:!1,fundList:["001618"],fundListM:[],sortType:{gszzl:"none",amount:"none",gains:"none",costGains:"none",costGainsRate:"none"},sortTypeObj:{name:null,value:null},searchOptions:[],value:[],list:[],loading:!1,dragging:null,showAddSeciInput:!1,seciList:["1.000001","1.000300","0.399001","0.399006"],allSeciList:[{value:"1.000001",label:"上证指数"},{value:"1.000300",label:"沪深300"},{value:"0.399001",label:"深证成指"},{value:"1.000688",label:"科创50"},{value:"0.399006",label:"创业板指"},{value:"0.399005",label:"中小板指"},{value:"100.HSI",label:"恒生指数"},{value:"100.DJIA",label:"道琼斯"},{value:"100.NDX",label:"纳斯达克"},{value:"100.SPX",label:"标普500"}],sltSeci:"",darkMode:!1,diyContainer:!1,containerWidth:790,containerHeight:590,detailShadow:!1,sltFund:{},localVersion:W,BadgeContent:1,showBadge:1,userId:null,isRefresh:!1,marketShadow:!1,lastDataList:[{},{}]}},mounted(){J["b"].get(["RealtimeFundcode","fundListM","showAmount","showGains","fundList","seciList","darkMode","isLiveUpdate","showCost","showCostRate","showGSZ","version","showBadge","BadgeContent","userId","sortTypeObj"]).then(t=>{if(this.fundList=t.fundList?t.fundList:this.fundList,t.fundListM)this.fundListM=t.fundListM;else{for(const t of this.fundList){let e={code:t,num:0};this.fundListM.push(e)}J["b"].set({fundListM:this.fundListM})}t.userId?this.userId=t.userId:(this.userId=this.getGuid(),J["b"].set({userId:this.userId})),this.darkMode=!!t.darkMode&&t.darkMode,this.seciList=t.seciList?t.seciList:this.seciList,this.showAmount=!!t.showAmount&&t.showAmount,this.showGains=!!t.showGains&&t.showGains,this.RealtimeFundcode=t.RealtimeFundcode,this.isLiveUpdate=!!t.isLiveUpdate&&t.isLiveUpdate,this.showCost=!!t.showCost&&t.showCost,this.showCostRate=!!t.showCostRate&&t.showCostRate,this.showGSZ=!!t.showGSZ&&t.showGSZ,this.BadgeContent=t.BadgeContent?t.BadgeContent:1,this.showBadge=t.showBadge?t.showBadge:1,this.sortTypeObj=t.sortTypeObj?t.sortTypeObj:{},this.getMarketData(),this.getIndFundData(),this.getData(),this.checkInterval(!0)})},computed:{allGains(){let t=0;return this.dataList.forEach(e=>{t+=parseFloat(e.gains)}),t=t.toFixed(2),t},allAmount(){let t=0;return this.dataList.forEach(e=>{t+=parseFloat(e.amount)}),t=t.toFixed(2),t},dailyYield(){return this.allAmount?(100*this.allGains/this.allAmount).toFixed(2)+"%":"0%"},allCostGains(){let t=0,e=0;this.dataList.forEach(s=>{t+=parseFloat(s.costGains),e+=parseFloat(s.amount)}),t=t.toFixed(2);let s=(100*t/e).toFixed(2);return[t,s]},containerClass(){let t="";if(this.darkMode&&(t+="darkMode "),this.detailShadow)t+="detail-container";else{let t=[this.showAmount,this.showGains,this.showCost,this.showCostRate,this.showGSZ],e=0;t.forEach(t=>{t&&e++})}return t},userSeciList(){return this.allSeciList.filter(t=>-1==this.seciList.indexOf(t.value))},tableHeight(){if(this.isEdit)return"table-more-height"},drag(){return this.isEdit?"table-drag":""}},watch:{isEdit(t){if(t){clearInterval(this.myVar),clearInterval(this.myVar1),this.dataList=[...this.dataListDft];for(const t in this.sortType)this.sortType.hasOwnProperty(t)&&(this.sortType[t]="none")}else this.checkInterval()}},methods:{refresh(){this.getData(),this.isRefresh=!0,setTimeout(()=>{this.isRefresh=!1},1500)},getGuid(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0,s="x"==t?e:3&e|8;return s.toString(16)}))},indDetail(t){this.detailShadow=!0,this.$refs.indDetail.init(t)},fundDetail(t){this.sltFund=t,this.detailShadow=!0,this.$refs.charts.init()},closeCharts(){this.detailShadow=!1},market(){this.detailShadow=!0,this.$refs.marketShadow.init()},checkInterval(t){clearInterval(this.myVar),clearInterval(this.myVar1),J["a"].runtime.sendMessage({type:"DuringDate"},e=>{this.isDuringDate=e.farewell,this.isLiveUpdate&&this.isDuringDate?(t||(this.getIndFundData(),this.getData()),this.myVar=setInterval(()=>{this.getIndFundData()},5e3),this.myVar1=setInterval(()=>{this.getData()},6e4),this.myVar2=setInterval(()=>{this.getMarketData()},5e3)):(clearInterval(this.myVar),clearInterval(this.myVar1))})},selectChange(){this.searchOptions=[]},remoteMethod(t){""!==t?(this.loading=!0,this.$axios.jsonp("FundSuggestList","https://m.1234567.com.cn/data/FundSuggestList.js").then(e=>{let s=e.Datas.filter(e=>e.indexOf(t)>-1).map(t=>{let e=t.split("|");return{CODE:e[0],NAME:e[2]}});this.searchOptions=s.filter(t=>{let e=this.fundListM.some((e,s,a)=>e.code==t.CODE);return!e}).map(t=>({value:t.CODE,label:t.NAME})),this.loading=!1}).catch(t=>{console.log(t)})):this.searchOptions=[]},option(){this.$router.push("/option")},analytics(){this.$router.push("/analytics")},reward(){this.rewardShadow=!0,this.$refs.reward.init()},sortList(t){for(const e in this.sortType)this.sortType.hasOwnProperty(e)&&e!=t&&(this.sortType[e]="none");this.sortType[t]="desc"==this.sortType[t]?"asc":"asc"==this.sortType[t]?"none":"desc","none"==this.sortType[t]?this.dataList=[...this.dataListDft]:this.dataList=this.dataList.sort(this.compare(t,this.sortType[t])),this.sortTypeObj={name:t,type:this.sortType[t]},J["b"].set({sortTypeObj:this.sortTypeObj})},compare(t,e){return function(s,a){var i=s[t],n=a[t];return"asc"==e?i-n:n-i}},changeDarkMode(){J["b"].set({darkMode:this.darkMode})},changeLiveUpdate(){J["b"].set({isLiveUpdate:!this.isLiveUpdate},()=>{this.isLiveUpdate=!this.isLiveUpdate,this.checkInterval()})},saveSeci(){this.seciList.push(this.sltSeci),J["b"].set({seciList:this.seciList},()=>{this.sltSeci="",this.getIndFundData()})},dltIndFund(t){this.seciList.splice(t,1),J["b"].set({seciList:this.seciList},()=>{this.getIndFundData()})},getMarketData(){this.loading=!0;let t="https://push2.eastmoney.com/api/qt/ulist.np/get?fltt=2&secids=1.000001,0.399001&fields=f1,f2,f3,f4,f6,f12,f13,f104,f105,f106&_="+(new Date).getTime();this.$axios.get(t).then(t=>{this.loading=!1,this.lastDataList=t.data.diff})},getIndFundData(){let t=this.seciList.join(","),e="https://push2.eastmoney.com/api/qt/ulist.np/get?fltt=2&fields=f2,f3,f4,f12,f13,f14&secids="+t+"&_="+(new Date).getTime();this.$axios.get(e).then(t=>{this.indFundData=t.data.diff})},getData(t){let e=this.fundListM.map(t=>t.code).join(","),s="https://fundmobapi.eastmoney.com/FundMNewApi/FundMNFInfo?pageIndex=1&pageSize=50&plat=Android&appType=ttjj&product=EFund&Version=1&deviceid="+this.userId+"&Fcodes="+e;this.$axios.get(s).then(e=>{let s=e.Datas;this.dataList=[];let a=[];s.forEach(t=>{let e={fundcode:t.FCODE,name:t.SHORTNAME,jzrq:t.PDATE,dwjz:t.NAV,gsz:isNaN(t.GSZ)?null:t.GSZ,gszzl:isNaN(t.GSZZL)?0:t.GSZZL,gztime:t.GZTIME};t.PDATE==t.GZTIME.substr(0,10)&&(e.gsz=t.NAV,e.gszzl=isNaN(t.NAVCHGRT)?0:t.NAVCHGRT,e.hasReplace=!0);let s=this.fundListM.filter(t=>t.code==e.fundcode);e.num=s[0].num,e.cost=s[0].cost,e.amount=this.calculateMoney(e),e.gains=this.calculate(e,e.hasReplace),e.costGains=this.calculateCost(e),e.costGainsRate=this.calculateCostRate(e),e.fundcode==this.RealtimeFundcode&&1==this.showBadge&&1==this.BadgeContent&&J["a"].runtime.sendMessage({type:"refreshBadge",data:e}),a.push(e)}),1==this.showBadge&&2==this.BadgeContent&&J["a"].runtime.sendMessage({type:"refreshBadgeAllGains",data:s}),this.dataListDft=[...a],"add"==t?this.dataList=a:"none"!=this.sortTypeObj.type?(this.sortType[this.sortTypeObj.name]=this.sortTypeObj.type,this.dataList=a.sort(this.compare(this.sortTypeObj.name,this.sortTypeObj.type))):this.dataList=a}).catch(t=>{console.log(t)})},changeNum(t,e){Y(()=>{for(let e of this.fundListM)e.code==t.fundcode&&(e.num=t.num);J["b"].set({fundListM:this.fundListM},()=>{t.amount=this.calculateMoney(t),t.gains=this.calculate(t,t.hasReplace),t.costGains=this.calculateCost(t),J["a"].runtime.sendMessage({type:"refresh"})})})},changeCost(t,e){Y(()=>{for(let e of this.fundListM)e.code==t.fundcode&&(e.cost=t.cost);J["b"].set({fundListM:this.fundListM},()=>{t.costGains=this.calculateCost(t),t.costGainsRate=this.calculateCostRate(t)})})},calculateMoney(t){let e=(t.dwjz*t.num).toFixed(2);return e},calculate(t,e){var s=0;let a=t.num?t.num:0;return e?s=((t.dwjz-t.dwjz/(1+.01*t.gszzl))*a).toFixed(2):t.gsz&&(s=((t.gsz-t.dwjz)*a).toFixed(2)),s},calculateCost(t){if(t.cost){let e=((t.dwjz-t.cost)*t.num).toFixed(2);return e}return 0},calculateCostRate(t){if(t.cost&&0!=t.cost){let e=((t.dwjz-t.cost)/t.cost*100).toFixed(2);return e}return 0},save(){this.fundcode.forEach(t=>{let e={code:t,num:0};this.fundListM.push(e)}),J["b"].set({fundListM:this.fundListM},()=>{this.fundcode=[],this.getData("add"),J["a"].runtime.sendMessage({type:"refresh"})})},slt(t){t==this.RealtimeFundcode?J["b"].set({RealtimeFundcode:null},()=>{this.RealtimeFundcode=null,J["a"].runtime.sendMessage({type:"endInterval"})}):J["b"].set({RealtimeFundcode:t},()=>{this.RealtimeFundcode=t,J["a"].runtime.sendMessage({type:"refresh"})})},dlt(t){this.fundListM=this.fundListM.filter((function(e){return e.code!=t})),t==this.RealtimeFundcode&&J["b"].set({RealtimeFundcode:null},()=>{this.RealtimeFundcode=null,1==this.BadgeContent&&J["a"].runtime.sendMessage({type:"endInterval"})}),J["b"].set({fundListM:this.fundListM},()=>{this.dataList=this.dataList.filter((function(e){return e.fundcode!=t})),2==this.BadgeContent&&J["a"].runtime.sendMessage({type:"refresh"})})},handleDragStart(t,e){this.dragging=e},handleDragOver(t){t.dataTransfer.dropEffect="move"},handleDragEnd(t,e){this.dragging=null,e.fundcode?J["b"].set({fundListM:this.fundListM},()=>{}):e.f12&&J["b"].set({seciList:this.seciList},()=>{})},handleDragEnter(t,e,s){if(this.dragging&&this.dragging.fundcode&&e.fundcode){if(t.dataTransfer.effectAllowed="move",e.fundcode===this.dragging.fundcode)return;const s=[...this.fundListM],a=s.findIndex(t=>t.code==this.dragging.fundcode),i=s.findIndex(t=>t.code==e.fundcode);s.splice(i,0,...s.splice(a,1)),this.fundListM=s;const n=[...this.dataList],o=n.findIndex(t=>t.fundcode==this.dragging.fundcode),l=n.findIndex(t=>t.fundcode==e.fundcode);n.splice(l,0,...n.splice(o,1)),this.dataList=n}else if(this.dragging&&this.dragging.f12&&e.f12){if(t.dataTransfer.effectAllowed="move",e.f12===this.dragging.f12)return;const s=[...this.seciList],a=s.findIndex(t=>t.split(".")[1]==this.dragging.f12),i=s.findIndex(t=>t.split(".")[1]==e.f12);s.splice(i,0,...s.splice(a,1)),this.seciList=s;const n=[...this.indFundData],o=n.findIndex(t=>t.f12==this.dragging.f12),l=n.findIndex(t=>t.f12==e.f12);n.splice(l,0,...n.splice(o,1)),this.indFundData=n}}},destroyed(){clearInterval(this.myVar),clearInterval(this.myVar1)}},K=Q,tt=(s("8dc1"),Object(r["a"])(K,a,i,!1,null,"a66d06c4",null));e["default"]=tt.exports},"8d3d":function(t,e,s){},"8dc1":function(t,e,s){"use strict";s("8d3d")},c48a:function(t,e,s){"use strict";s("f33b")},c602:function(t,e,s){"use strict";s("3360")},cb7f:function(t,e,s){"use strict";s("22e6")},f33b:function(t,e,s){}}]);