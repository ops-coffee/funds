(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-49800ed7"],{3360:function(t,a,s){},"8caf":function(t,a,s){"use strict";s("ec62")},c602:function(t,a,s){"use strict";s("3360")},ec62:function(t,a,s){},f5b5:function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"container",class:t.containerClass,attrs:{id:"app"}},[s("div",[s("div",{staticClass:"tab-row flex"},t._l(t.indFundData,(function(a,e){return s("div",{key:a.f12,staticClass:"tab-col indFund",on:{click:function(s){return s.stopPropagation(),t.indDetail(a)}}},[s("h5",[t._v(t._s(a.f14))]),s("div",{class:a.f3>=0?"up":"down"},[t._v(t._s(a.f2))]),s("div",{class:a.f3>=0?"up":"down"},[t._v("\n          "+t._s(a.f4)+"  "+t._s(a.f3)+"%\n        ")])])})),0),s("div",{staticClass:"tab-row"},[s("div",{staticStyle:{"text-align":"left"}},[t._v("\n        🔥 两市合计成交\n        "),s("span",[t._v("\n          "+t._s(((t.lastDataList[0].f6+t.lastDataList[1].f6)/1e4/1e4).toFixed(2))+"\n          亿元，")]),t._v("\n        上涨"),s("span",{staticClass:"up"},[t._v("\n          "+t._s(t.lastDataList[0].f104+t.lastDataList[1].f104)+"\n        ")]),t._v("\n        平盘"),s("span",[t._v(" "+t._s(t.lastDataList[0].f106+t.lastDataList[1].f106)+" ")]),t._v("\n        下跌"),s("span",{staticClass:"down"},[t._v("\n          "+t._s(t.lastDataList[0].f105+t.lastDataList[1].f105)+"\n        ")])])]),s("div",{staticClass:"table-row"},[s("table",[s("thead",[s("tr",[s("th",{staticClass:"align-left"},[t._v("基金名称("+t._s(t.dataList.length)+")")]),s("th",{staticClass:"pointer",staticStyle:{"min-width":"50px"},on:{click:function(a){return t.sortList("amount")}}},[t._v("\n              持有额\n              "),s("span",{staticClass:"down-arrow",class:t.sortType.amount})]),s("th",{staticClass:"pointer",staticStyle:{"min-width":"60px"},on:{click:function(a){return t.sortList("gszzl")}}},[t._v("\n              涨跌幅\n              "),s("span",{staticClass:"down-arrow",class:t.sortType.gszzl})]),s("th",{staticClass:"pointer",staticStyle:{"min-width":"60px"},on:{click:function(a){return t.sortList("gains")}}},[t._v("\n              估算收益\n              "),s("span",{staticClass:"down-arrow",class:t.sortType.gains})]),s("th",{staticStyle:{"min-width":"50px"}},[t._v("更新时间")])])]),s("tbody",t._l(t.dataList,(function(a,e){return s("tr",{key:a.fundcode},[s("td",{staticClass:"fundName align-left",attrs:{title:a.name},on:{click:function(s){return s.stopPropagation(),t.fundDetail(a)}}},[t._v("\n              "+t._s(a.name)+"\n            ")]),s("td",[t._v(t._s(a.amount))]),s("td",{class:a.gszzl>=0?"up":"down"},[t._v(t._s(a.gszzl)+"%")]),s("td",{class:a.gains>=0?"up":"down"},[t._v("\n              "+t._s(a.gains)+"\n            ")]),s("td",[t._v("\n              "+t._s(a.hasReplace?a.gztime.substr(5,5):a.gztime.substr(-5))+"\n              "),a.hasReplace?s("span",{staticClass:"hasReplace-tip"},[t._v("✔")]):t._e()])])})),0)])])]),s("div",{staticClass:"input-row"},[s("input",{staticClass:"button",attrs:{type:"button",value:"行情中心"},on:{click:t.dashboard}}),s("input",{staticClass:"button primary",attrs:{type:"button",value:"分析"},on:{click:t.analytics}}),s("input",{staticClass:"button",class:t.allGains>=0?"button-up":"button-down",attrs:{type:"button",title:t.allGains>=0?"d=====(￣▽￣*)b 赞一个":"∑(っ°Д°;)っ 大事不好啦",value:"当日收益："+t.allGains+"("+t.dailyYield+")"}})]),s("div",{staticClass:"input-row",staticStyle:{position:"relative"}},[s("div",{staticClass:"refresh",class:{isRefresh:t.isRefresh},attrs:{title:"手动刷新数据"},on:{click:t.refresh}},[s("i",{staticClass:"el-icon-refresh"})])]),s("market",{ref:"marketShadow",attrs:{darkMode:t.darkMode},on:{close:t.closeCharts}}),s("ind-detail",{ref:"indDetail",attrs:{darkMode:t.darkMode},on:{close:t.closeCharts}}),s("fund-detail",{ref:"charts",attrs:{fund:t.sltFund,darkMode:t.darkMode},on:{close:t.closeCharts}})],1)},i=[],n=s("1f5f"),o=s("45cf"),r=s("fa82"),l=s("527b");var d={components:{fundDetail:o["a"],indDetail:n["a"],market:r["a"]},data(){return{seciList:["1.000001","1.000300","0.399001","0.399006"],indFundData:[],dataList:[],dataListDft:[],fundListM:[{code:"163406",cost:"1.9560",num:"40182.60"},{code:"005233",cost:"2.5649",num:"6237.95"},{code:"110011",cost:"8.5057",num:"3729.01"},{code:"260108",cost:"3.0999",num:"11691.51"},{code:"001837",cost:"2.0992",num:"17149.43"},{code:"519736",cost:"4.9850",num:"1203.62"},{code:"501058",cost:"1.9397",num:"14466.19"},{code:"008887",cost:"1.1691",num:"17962.36"},{code:"005968",cost:"3.3209",num:"3914.62"},{code:"003095",num:0},{code:"005827",num:0},{code:"161725",num:0}],sortType:{gszzl:"none",amount:"none",gains:"none",costGains:"none",costGainsRate:"none"},sortTypeObj:{name:null,value:null},loading:!1,dragging:null,darkMode:!1,detailShadow:!1,sltFund:{},userId:null,isRefresh:!1,marketShadow:!1,lastDataList:[{},{}]}},mounted(){l["b"].get(["darkMode","userId","sortTypeObj"]).then(t=>{this.darkMode=!!t.darkMode&&t.darkMode,this.sortTypeObj=t.sortTypeObj?t.sortTypeObj:{},this.getMarketData(),this.getIndFundData(),this.getData()})},computed:{allGains(){let t=0;return this.dataList.forEach(a=>{t+=parseFloat(a.gains)}),t=t.toFixed(2),t},allAmount(){let t=0;return this.dataList.forEach(a=>{t+=parseFloat(a.amount)}),t=t.toFixed(2),t},dailyYield(){return this.allAmount?(100*this.allGains/this.allAmount).toFixed(2)+"%":"0%"},allCostGains(){let t=0,a=0;this.dataList.forEach(s=>{t+=parseFloat(s.costGains),a+=parseFloat(s.amount)}),t=t.toFixed(2);let s=(100*t/(a-t)).toFixed(2);return[t,s]},containerClass(){let t="";return this.darkMode&&(t+="darkMode "),this.detailShadow&&(t+="detail-container"),t}},methods:{refresh(){this.getData(),this.isRefresh=!0,setTimeout(()=>{this.isRefresh=!1},1500)},indDetail(t){this.detailShadow=!0,this.$refs.indDetail.init(t)},fundDetail(t){this.sltFund=t,this.detailShadow=!0,this.$refs.charts.init()},closeCharts(){this.detailShadow=!1},market(){this.detailShadow=!0,this.$refs.marketShadow.init()},option(){this.$router.push("/option")},analytics(){this.$router.push("/analytics")},dashboard(){this.$router.push("/dashboard")},sortList(t){for(const a in this.sortType)this.sortType.hasOwnProperty(a)&&a!=t&&(this.sortType[a]="none");this.sortType[t]="desc"==this.sortType[t]?"asc":"asc"==this.sortType[t]?"none":"desc","none"==this.sortType[t]?this.dataList=[...this.dataListDft]:this.dataList=this.dataList.sort(this.compare(t,this.sortType[t])),this.sortTypeObj={name:t,type:this.sortType[t]}},compare(t,a){return function(s,e){var i=s[t],n=e[t];return"asc"==a?i-n:n-i}},getMarketData(){this.loading=!0;let t="https://push2.eastmoney.com/api/qt/ulist.np/get?fltt=2&secids=1.000001,0.399001&fields=f1,f2,f3,f4,f6,f12,f13,f104,f105,f106&_="+(new Date).getTime();this.$axios.get(t).then(t=>{this.loading=!1,this.lastDataList=t.data.diff})},getIndFundData(){let t=this.seciList.join(","),a="https://push2.eastmoney.com/api/qt/ulist.np/get?fltt=2&fields=f2,f3,f4,f12,f13,f14&secids="+t+"&_="+(new Date).getTime();this.$axios.get(a).then(t=>{this.indFundData=t.data.diff})},getData(t){let a=this.fundListM.map(t=>t.code).join(","),s="https://fundmobapi.eastmoney.com/FundMNewApi/FundMNFInfo?pageIndex=1&pageSize=50&plat=Android&appType=ttjj&product=EFund&Version=1&deviceid="+this.userId+"&Fcodes="+a;this.$axios.get(s).then(a=>{let s=a.Datas;this.dataList=[];let e=[];s.forEach(t=>{let a={fundcode:t.FCODE,name:t.SHORTNAME,jzrq:t.PDATE,dwjz:t.NAV,gsz:isNaN(t.GSZ)?null:t.GSZ,gszzl:isNaN(t.GSZZL)?0:t.GSZZL,gztime:t.GZTIME};t.PDATE==t.GZTIME.substr(0,10)&&(a.gsz=t.NAV,a.gszzl=isNaN(t.NAVCHGRT)?0:t.NAVCHGRT,a.hasReplace=!0);let s=this.fundListM.filter(t=>t.code==a.fundcode);a.num=s[0].num,a.cost=s[0].cost,a.amount=this.calculateMoney(a),a.gains=this.calculate(a,a.hasReplace),a.costGains=this.calculateCost(a),a.costGainsRate=this.calculateCostRate(a),e.push(a)}),this.dataListDft=[...e],"add"==t?this.dataList=e:"none"!=this.sortTypeObj.type?(this.sortType[this.sortTypeObj.name]=this.sortTypeObj.type,this.dataList=e.sort(this.compare(this.sortTypeObj.name,this.sortTypeObj.type))):this.dataList=e}).catch(t=>{console.log(t)})},calculateMoney(t){let a=(t.dwjz*t.num).toFixed(2);return a},calculate(t,a){var s=0;let e=t.num?t.num:0;return a?s=((t.dwjz-t.dwjz/(1+.01*t.gszzl))*e).toFixed(2):t.gsz&&(s=((t.gsz-t.dwjz)*e).toFixed(2)),s},calculateCost(t){if(t.cost){let a=((t.dwjz-t.cost)*t.num).toFixed(2);return a}return 0},calculateCostRate(t){if(t.cost&&0!=t.cost){let a=((t.dwjz-t.cost)/t.cost*100).toFixed(2);return a}return 0}}},c=d,u=(s("8caf"),s("2877")),h=Object(u["a"])(c,e,i,!1,null,"37912df7",null);a["default"]=h.exports},fa82:function(t,a,s){"use strict";var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return t.boxShadow?s("div",{staticClass:"shadow",class:t.darkMode?"darkMode":""},[s("div",{staticClass:"content-box"},[s("h5",[t._v("行情中心")]),s("el-tabs",{attrs:{type:"border-card"},on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(a){t.activeName=a},expression:"activeName"}},[s("el-tab-pane",{attrs:{lazy:"",label:"大盘资金",name:"first"}},[s("market-line",{ref:"first",attrs:{darkMode:t.darkMode}})],1),s("el-tab-pane",{attrs:{lazy:"",label:"行业板块",name:"second"}},[s("market-bar",{ref:"second",attrs:{darkMode:t.darkMode}})],1),s("el-tab-pane",{attrs:{lazy:"",label:"北向资金",name:"third"}},[s("market-S2N",{ref:"third",attrs:{darkMode:t.darkMode}})],1),s("el-tab-pane",{attrs:{lazy:"",label:"南向资金",name:"fourth"}},[s("market-N2S",{ref:"fourth",attrs:{darkMode:t.darkMode}})],1)],1),s("div",{staticClass:"tab-row"},[s("input",{staticClass:"btn",attrs:{type:"button",value:"返回列表"},on:{click:t.close}})])],1)]):t._e()},i=[],n=s("7fd2"),o=s("5965"),r=s("bfdc"),l=s("3117"),d={components:{marketLine:n["a"],marketBar:o["a"],marketS2N:r["a"],marketN2S:l["a"]},name:"market",props:{darkMode:{type:Boolean,default:!1}},data(){return{activeName:"first",boxShadow:!1}},watch:{},mounted(){},methods:{handleClick(t,a){this.activeName=t.name},init(){this.boxShadow=!0},close(){this.boxShadow=!1,this.$emit("close",!1)}}},c=d,u=(s("c602"),s("2877")),h=Object(u["a"])(c,e,i,!1,null,"50f0362c",null);a["a"]=h.exports}}]);