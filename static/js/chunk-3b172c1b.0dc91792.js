(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3b172c1b"],{1028:function(t,e,a){"use strict";a("f832")},"1c9f":function(t,e,a){"use strict";a("beb3")},3958:function(t,e,a){},"418b":function(t,e,a){"use strict";a("3958")},"527b":function(t,e,a){"use strict";a.d(e,"b",(function(){return b})),a.d(e,"a",(function(){return _}));var i=a("bc3a"),s=a.n(i);const o=Object.prototype.toString;var r,n,l=null,d=[],c=1,h=1,u=1,p=null;function m(t){return"[object Object]"===o.call(t)}function f(){}const b={get:function(t){const e={};return t||Reflect.ownKeys(localStorage).forEach((function(t){let a=localStorage[t];try{a=JSON.parse(localStorage[t])}catch(i){}e[t]=a})),"string"===typeof t&&(t=[t]),Array.isArray(t)&&t.forEach(t=>{let a=localStorage.getItem(t);try{a=JSON.parse(localStorage.getItem(t))}catch(i){}e[t]=a}),Promise.resolve(e)},set:function(t,e=f){if(!m(t))return Promise.reject("Please pass in an object");Reflect.ownKeys(t).forEach((function(e){localStorage.setItem(e,JSON.stringify(t[e]))})),e()}},g=()=>{var t=8,e=60*(new Date).getTimezoneOffset()*1e3,a=(new Date).getTime(),i=new Date(a+e+60*t*60*1e3);if(v(i))return!1;var s=new Date,o=new Date,r=new Date,n=new Date;return s.setHours(9,30,0),o.setHours(11,35,0),r.setHours(13,0,0),n.setHours(15,5,0),"6"!=i.getDay()&&"0"!=i.getDay()&&(i>=s&&i<=o||i>=r&&i<=n)},x=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0,a="x"==t?e:3&e|8;return a.toString(16)}));var y=()=>{let t="https://blz.nosdn.127.net/sre/holiday.json";return s.a.get(t)},v=t=>{var e=t.getMonth()+1,a=t.getFullYear(),i=t.getDate();e>=1&&e<=9&&(e="0"+e),i>=0&&i<=9&&(i="0"+i);let s=!1;var o=e+"-"+i;let r=n.data;for(const n in r)if(r.hasOwnProperty(n)){const t=r[n];if(n==a)for(const e in t)if(t.hasOwnProperty(e)){const a=t[e];o==e&&a.holiday&&(s=!0)}}return s},w=t=>{let e=parseFloat(t),a=Math.abs(e);return a<10?e.toFixed(2):a<100?e.toFixed(1):a<1e3?e.toFixed(0):a<1e4?(e/1e3).toFixed(1)+"k":a<1e6?(e/1e3).toFixed(0)+"k":a<1e7?(e/1e6).toFixed(1)+"M":(e/1e6).toFixed(0)+"M"},C=(t,e,a)=>{let i=null;i=1==a?t:d.map(t=>t.code).join(",");let o="https://fundmobapi.eastmoney.com/FundMNewApi/FundMNFInfo?pageIndex=1&pageSize=50&plat=Android&appType=ttjj&product=EFund&Version=1&deviceid="+p+"&Fcodes="+i;s.a.get(o).then(t=>{let e=0,i=0,s=null;if(1==a){let e=t.Datas[0],a={fundcode:e.FCODE,name:e.SHORTNAME,jzrq:e.PDATE,dwjz:e.NAV,gsz:isNaN(e.GSZ)?null:e.GSZ,gszzl:isNaN(e.GSZZL)?0:e.GSZZL,gztime:e.GZTIME,num:0},i=d.filter(t=>t.code==a.fundcode);if(!i.length)return!1;a.num=i[0].num;var o=0;let r=a.num?a.num:0;e.PDATE==e.GZTIME.substr(0,10)?(a.gsz=e.NAV,a.gszzl=isNaN(e.NAVCHGRT)?0:e.NAVCHGRT,o=((a.dwjz-a.dwjz/(1+.01*a.gszzl))*r).toFixed(1)):a.gsz&&(o=((a.gsz-a.dwjz)*r).toFixed(1)),s=1==u?a.gszzl+"%":0!=r?w(o):"0"}else t.Datas.forEach(t=>{let a=d.filter(e=>e.code==t.FCODE),s=a[0].num?a[0].num:0;e+=t.NAV*s;var o=0;if(t.PDATE==t.GZTIME.substr(0,10))o=(t.NAV-t.NAV/(1+.01*t.NAVCHGRT))*s;else{let e=isNaN(t.GSZ)?null:t.GSZ;e&&(o=(e-t.NAV)*s)}i+=o}),s=1==u?0==e||0==i?"0":(100*i/e).toFixed(2)+"%":w(i);_.browserAction.setBadgeText({text:s})}).catch(t=>{})},S=(t,e=1)=>{L(r);let a=g();t=t,C(t,a,e),r=setInterval(()=>{g()&&C(t,!0,e)},12e4)},L=()=>{clearInterval(r),_.browserAction.setBadgeText({text:"自选基金助手"})},D=t=>{1==c&&1==h?t?S(t):L():1==c&&2==h?S(null,2):L()};const k=()=>{b.get(["holiday","fundListM","RealtimeFundcode","showBadge","BadgeContent","BadgeType","userId"]).then(t=>{l=t.RealtimeFundcode?t.RealtimeFundcode:null,d=t.fundListM?t.fundListM:[],c=t.showBadge?t.showBadge:1,h=t.BadgeContent?t.BadgeContent:1,u=t.BadgeType?t.BadgeType:1,t.userId?p=t.userId:(p=x(),b.set({userId:p})),t.holiday?(n=t.holiday,D(l)):y().then(t=>{b.set({holiday:t},()=>{n=t,D(l)})})})};k();const _={runtime:{sendMessage:function(t,e=f){if("DuringDate"==t.type){let t=g();e({farewell:t})}if("refresh"==t.type&&k(),"refreshBadgeAllGains"==t.type){let e=0,a=0;t.data.forEach(t=>{let i=d.filter(e=>e.code==t.FCODE),s=i[0].num?i[0].num:0;e+=t.NAV*s;var o=0;if(t.PDATE==t.GZTIME.substr(0,10))o=(t.NAV-t.NAV/(1+.01*t.NAVCHGRT))*s;else{let e=isNaN(t.GSZ)?null:t.GSZ;e&&(o=(e-t.NAV)*s)}a+=o});let i=null;i=1==u?0==e||0==a?"0":(100*a/e).toFixed(2)+"%":w(a),_.browserAction.setBadgeText({text:i});g()}if("endInterval"==t.type&&L(),"startInterval"==t.type&&S(t.id),"refreshOption"==t.type){switch(t.data.type){case"showBadge":c=t.data.value;break;case"BadgeContent":h=t.data.value;break;case"BadgeType":u=t.data.value;break}k()}if("refreshBadge"==t.type){let e=null;e=1==u?t.data.gszzl+"%":w(t.data.gains),_.browserAction.setBadgeText({text:e});g()&&t.data.gszzl}}},browserAction:{setBadgeText:function(t){document.title=t.text}}}},"540b":function(t,e,a){"use strict";a("c0f1")},"610e":function(t,e,a){"use strict";a("bd51")},"7abe":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container",class:t.containerClass,style:t.diyContainer?{width:t.containerWidth+"px",height:t.containerHeight+"px"}:"",attrs:{id:"app"}},[a("div",[a("div",{staticClass:"tab-row"},[t._l(t.indFundData,(function(e,i){return a("div",{key:e.f12,staticClass:"tab-col indFund",class:t.drag,attrs:{draggable:t.isEdit},on:{click:function(a){a.stopPropagation(),!t.isEdit&&t.indDetail(e)},dragstart:function(a){return t.handleDragStart(a,e)},dragover:function(a){return a.preventDefault(),t.handleDragOver(a,e)},dragenter:function(a){return t.handleDragEnter(a,e,i)},dragend:function(a){return t.handleDragEnd(a,e)}}},[a("h5",[t._v("\n          "+t._s(e.f14)+"\n          "),t.isEdit?a("span",{staticClass:"dltBtn edit red btn",on:{click:function(e){return t.dltIndFund(i)}}},[t._v("✖")]):t._e()]),a("p",{class:e.f3>=0?"up":"down"},[t._v(t._s(e.f2))]),a("p",{class:e.f3>=0?"up":"down"},[t._v("\n          "+t._s(e.f4)+"  "+t._s(e.f3)+"%\n        ")])])})),t.isEdit&&t.indFundData.length<4?a("div",{staticClass:"tab-col"},[t.showAddSeciInput?a("div",[a("div",{staticStyle:{"padding-top":"2px"}},[a("el-select",{staticStyle:{width:"110px"},attrs:{size:"mini","popper-append-to-body":!1,placeholder:"请选择"},model:{value:t.sltSeci,callback:function(e){t.sltSeci=e},expression:"sltSeci"}},t._l(t.userSeciList,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),a("div",{staticStyle:{"margin-top":"4px"}},[a("input",{staticClass:"btn",attrs:{type:"button",value:"取消"},on:{click:function(){return t.showAddSeciInput=!1}}}),a("input",{staticClass:"btn",attrs:{type:"button",value:"确定"},on:{click:t.saveSeci}})])]):a("div",{staticClass:"addSeci",on:{click:function(){return t.showAddSeciInput=!0}}},[t._v("\n          添加\n        ")])]):t._e()],2),t.isEdit?a("div",{staticClass:"input-row"},[a("span",[t._v("添加新基金:")]),a("el-select",{staticStyle:{width:"300px"},attrs:{multiple:"",filterable:"","popper-append-to-body":!1,remote:"",size:"mini","reserve-keyword":"",placeholder:"请输入基金编码，支持按名称或编码搜索","remote-method":t.remoteMethod,loading:t.loading},on:{"visible-change":t.selectChange},model:{value:t.fundcode,callback:function(e){t.fundcode=e},expression:"fundcode"}},t._l(t.searchOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}},[a("span",{staticStyle:{float:"left"}},[t._v(t._s(e.label))]),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px","margim-right":"20px","padding-right":"15px"}},[t._v(t._s(e.value))])])})),1),a("input",{staticClass:"btn",attrs:{type:"button",value:"确定"},on:{click:t.save}})],1):t._e(),t.isEdit?a("p",{staticClass:"tips center"},[t._v("\n      部分新发基金或QDII基金可以搜索到，但可能无法获取估值情况\n    ")]):t._e(),a("div",{staticClass:"table-row",class:t.tableHeight},[a("table",[a("thead",[a("tr",[a("th",{staticClass:"align-left"},[t._v("基金名称")]),t.isEdit?a("th",[t._v("基金代码")]):t._e(),t.showGSZ&&!t.isEdit?a("th",{staticStyle:{"min-width":"50px"}},[t._v("\n              估算净值\n            ")]):t._e(),t.isEdit&&(t.showCostRate||t.showCost)?a("th",{staticStyle:{"text-align":"center"}},[t._v("\n              成本价\n            ")]):t._e(),t.showAmount?a("th",{staticClass:"pointer",staticStyle:{"min-width":"50px"},on:{click:function(e){return t.sortList("amount")}}},[t._v("\n              持有额\n              "),a("span",{staticClass:"down-arrow",class:t.sortType.amount})]):t._e(),t.showCost?a("th",{staticClass:"pointer",staticStyle:{"min-width":"60px"},on:{click:function(e){return t.sortList("costGains")}}},[t._v("\n              持有收益\n              "),a("span",{staticClass:"down-arrow",class:t.sortType.costGains})]):t._e(),t.showCostRate?a("th",{staticClass:"pointer",staticStyle:{"min-width":"72px"},on:{click:function(e){return t.sortList("costGainsRate")}}},[t._v("\n              持有收益率\n              "),a("span",{staticClass:"down-arrow",class:t.sortType.costGainsRate})]):t._e(),a("th",{staticClass:"pointer",staticStyle:{"min-width":"60px"},on:{click:function(e){return t.sortList("gszzl")}}},[t._v("\n              涨跌幅\n              "),a("span",{staticClass:"down-arrow",class:t.sortType.gszzl})]),t.showGains?a("th",{staticClass:"pointer",staticStyle:{"min-width":"60px"},on:{click:function(e){return t.sortList("gains")}}},[t._v("\n              估算收益\n              "),a("span",{staticClass:"down-arrow",class:t.sortType.gains})]):t._e(),t.isEdit?t._e():a("th",{staticStyle:{"min-width":"50px"}},[t._v("更新时间")]),t.isEdit&&(t.showAmount||t.showGains||t.showCost||t.showCostRate)?a("th",{staticStyle:{"text-align":"center"}},[t._v("\n              持有份额\n            ")]):t._e(),t.isEdit&&1==t.BadgeContent?a("th",[t._v("特别关注")]):t._e(),t.isEdit?a("th",[t._v("删除")]):t._e()])]),a("tbody",t._l(t.dataList,(function(e,i){return a("tr",{key:e.fundcode,class:t.drag,attrs:{draggable:t.isEdit},on:{dragstart:function(a){return t.handleDragStart(a,e)},dragover:function(a){return a.preventDefault(),t.handleDragOver(a,e)},dragenter:function(a){return t.handleDragEnter(a,e,i)},dragend:function(a){return t.handleDragEnd(a,e)}}},[a("td",{class:t.isEdit?"fundName-noclick align-left":"fundName align-left",attrs:{title:e.name},on:{click:function(a){a.stopPropagation(),!t.isEdit&&t.fundDetail(e)}}},[t._v("\n              "+t._s(e.name)+"\n            ")]),t.isEdit?a("td",[t._v(t._s(e.fundcode))]):t._e(),t.showGSZ&&!t.isEdit?a("td",[t._v(t._s(e.gsz))]):t._e(),t.isEdit&&t.showCost?a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.cost,expression:"el.cost"}],staticClass:"btn num",attrs:{placeholder:"持仓成本价",type:"text"},domProps:{value:e.cost},on:{input:[function(a){a.target.composing||t.$set(e,"cost",a.target.value)},function(a){return t.changeCost(e,i)}]}})]):t._e(),t.showAmount?a("td",[t._v(t._s(e.amount))]):t._e(),t.showCost?a("td",{class:e.costGains>=0?"up":"down"},[t._v("\n              "+t._s(e.costGains)+"\n            ")]):t._e(),t.showCostRate?a("td",{class:e.costGainsRate>=0?"up":"down"},[t._v("\n              "+t._s(e.cost>0?e.costGainsRate+"%":"")+"\n            ")]):t._e(),a("td",{class:e.gszzl>=0?"up":"down"},[t._v(t._s(e.gszzl)+"%")]),t.showGains?a("td",{class:e.gains>=0?"up":"down"},[t._v("\n              "+t._s(e.gains)+"\n            ")]):t._e(),t.isEdit?t._e():a("td",[t._v("\n              "+t._s(e.hasReplace?e.gztime.substr(5,5):e.gztime.substr(-5))+"\n              "),e.hasReplace?a("span",{staticClass:"hasReplace-tip"},[t._v("✔")]):t._e()]),t.isEdit&&(t.showAmount||t.showGains||t.showCost)?a("th",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.num,expression:"el.num"}],staticClass:"btn num",attrs:{placeholder:"输入持有份额",type:"text"},domProps:{value:e.num},on:{input:[function(a){a.target.composing||t.$set(e,"num",a.target.value)},function(a){return t.changeNum(e,i)}]}})]):t._e(),t.isEdit&&1==t.BadgeContent?a("td",[a("input",{staticClass:"btn edit",class:e.fundcode==t.RealtimeFundcode?"slt":"",attrs:{value:"✔",type:"button"},on:{click:function(a){return t.slt(e.fundcode)}}})]):t._e(),t.isEdit?a("td",[a("input",{staticClass:"btn red edit",attrs:{value:"✖",type:"button"},on:{click:function(a){return t.dlt(e.fundcode)}}})]):t._e()])})),0)])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isEdit,expression:"isEdit"}],staticClass:"input-row"},[a("el-switch",{attrs:{"active-color":"#484848","inactive-color":"#13ce66","inactive-text":"标准模式","active-text":"暗色模式"},on:{change:t.changeDarkMode},model:{value:t.darkMode,callback:function(e){t.darkMode=e},expression:"darkMode"}})],1),a("div",{staticClass:"input-row"},[t.isDuringDate?a("input",{staticClass:"btn",attrs:{type:"button",value:t.isLiveUpdate?"暂停更新":"实时更新",title:t.isLiveUpdate?"正在实时更新，点击暂停":"已暂停，点击切换为实时更新"},on:{click:t.changeLiveUpdate}}):t._e(),t.isDuringDate?t._e():a("input",{staticClass:"btn",attrs:{type:"button",value:"休市中"}}),a("input",{staticClass:"btn",attrs:{type:"button",value:t.isEdit?"完成编辑":"编辑"},on:{click:function(e){t.isEdit=!t.isEdit}}}),a("input",{staticClass:"btn",attrs:{type:"button",value:"设置"},on:{click:t.option}})]),a("div",{staticClass:"input-row",staticStyle:{position:"relative"}},[t.showGains?a("input",{staticClass:"btn",class:t.allGains>=0?"btn-up":"btn-down",attrs:{type:"button",title:t.allGains>=0?"d=====(￣▽￣*)b 赞一个":"∑(っ°Д°;)っ 大事不好啦",value:"当日收益："+t.allGains+"("+t.dailyYield+")"}}):t._e(),t.showCost?a("input",{staticClass:"btn",class:t.allCostGains>=0?"btn-up":"btn-down",attrs:{type:"button",title:t.allCostGains>=0?"d=====(￣▽￣*)b 赞一个":"∑(っ°Д°;)っ 大事不好啦",value:"总持有收益："+t.allCostGains}}):t._e(),a("div",{staticClass:"refresh",class:{isRefresh:t.isRefresh},attrs:{title:"手动刷新数据"},on:{click:t.refresh}},[a("i",{staticClass:"el-icon-refresh"})])]),a("ind-detail",{ref:"indDetail",attrs:{darkMode:t.darkMode},on:{close:t.closeCharts}}),a("fund-detail",{ref:"charts",attrs:{fund:t.sltFund,darkMode:t.darkMode},on:{close:t.closeCharts}})],1)},s=[],o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.boxShadow?a("div",{staticClass:"shadow",class:t.boxClass},[a("div",{staticClass:"content-box"},[a("h5",[t._v(t._s(t.codeData.f14)+"("+t._s(t.codeData.f13+"."+t.codeData.f12)+")")]),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"mainCharts",staticClass:"main-echarts",class:t.mini?"mini-charts":"",attrs:{"element-loading-background":t.darkMode?"rgba(0, 0, 0, 0.9)":"rgba(255, 255, 255, 0.9)"}}),a("div",{staticClass:"tab-row"},[a("input",{staticClass:"btn",attrs:{type:"button",value:"返回列表"},on:{click:t.close}})])])]):t._e()},r=[],n=a("3eba"),l=a.n(n);l.a.registerTheme("customed",{color:["#409eff","#c23531","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],backgroundColor:"rgba(0, 0, 0, 0)",textStyle:{},title:{textStyle:{color:"#333"},subtextStyle:{color:"#aaa"}},line:{itemStyle:{normal:{borderWidth:1}},lineStyle:{normal:{width:"1"}},symbolSize:"1",symbol:"circle",smooth:!1},radar:{itemStyle:{normal:{borderWidth:1}},lineStyle:{normal:{width:"1"}},symbolSize:"1",symbol:"circle",smooth:!1},bar:{itemStyle:{normal:{barBorderWidth:0,barBorderColor:"#ccc"},emphasis:{barBorderWidth:0,barBorderColor:"#ccc"}}},pie:{itemStyle:{normal:{borderWidth:0,borderColor:"#ccc"},emphasis:{borderWidth:0,borderColor:"#ccc"}}},scatter:{itemStyle:{normal:{borderWidth:0,borderColor:"#ccc"},emphasis:{borderWidth:0,borderColor:"#ccc"}}},boxplot:{itemStyle:{normal:{borderWidth:0,borderColor:"#ccc"},emphasis:{borderWidth:0,borderColor:"#ccc"}}},parallel:{itemStyle:{normal:{borderWidth:0,borderColor:"#ccc"},emphasis:{borderWidth:0,borderColor:"#ccc"}}},sankey:{itemStyle:{normal:{borderWidth:0,borderColor:"#ccc"},emphasis:{borderWidth:0,borderColor:"#ccc"}}},funnel:{itemStyle:{normal:{borderWidth:0,borderColor:"#ccc"},emphasis:{borderWidth:0,borderColor:"#ccc"}}},gauge:{itemStyle:{normal:{borderWidth:0,borderColor:"#ccc"},emphasis:{borderWidth:0,borderColor:"#ccc"}}},candlestick:{itemStyle:{normal:{color:"#c23531",color0:"#314656",borderColor:"#c23531",borderColor0:"#314656",borderWidth:1}}},graph:{itemStyle:{normal:{borderWidth:0,borderColor:"#ccc"}},lineStyle:{normal:{width:1,color:"#aaa"}},symbolSize:"1",symbol:"circle",smooth:!1,color:["#409eff","#c23531","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],label:{normal:{textStyle:{color:"#eee"}}}},map:{itemStyle:{normal:{areaColor:"#eee",borderColor:"#444",borderWidth:.5},emphasis:{areaColor:"rgba(255,215,0,0.8)",borderColor:"#444",borderWidth:1}},label:{normal:{textStyle:{color:"#000"}},emphasis:{textStyle:{color:"rgb(100,0,0)"}}}},geo:{itemStyle:{normal:{areaColor:"#eee",borderColor:"#444",borderWidth:.5},emphasis:{areaColor:"rgba(255,215,0,0.8)",borderColor:"#444",borderWidth:1}},label:{normal:{textStyle:{color:"#000"}},emphasis:{textStyle:{color:"rgb(100,0,0)"}}}},categoryAxis:{axisLine:{show:!0,lineStyle:{color:"#333"}},axisTick:{show:!1,lineStyle:{color:"#333"}},axisLabel:{show:!0,textStyle:{color:"#333"}},splitLine:{show:!1,lineStyle:{color:["#ccc","#333333"]}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},valueAxis:{axisLine:{show:!0,lineStyle:{color:"#333"}},axisTick:{show:!1,lineStyle:{color:"#333"}},axisLabel:{show:!0,textStyle:{color:"#333"}},splitLine:{show:!1,lineStyle:{color:["#ccc","#333333"]}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},logAxis:{axisLine:{show:!0,lineStyle:{color:"#333"}},axisTick:{show:!1,lineStyle:{color:"#333"}},axisLabel:{show:!0,textStyle:{color:"#333"}},splitLine:{show:!1,lineStyle:{color:["#ccc","#333333"]}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},timeAxis:{axisLine:{show:!0,lineStyle:{color:"#333"}},axisTick:{show:!1,lineStyle:{color:"#333"}},axisLabel:{show:!0,textStyle:{color:"#333"}},splitLine:{show:!1,lineStyle:{color:["#ccc","#333333"]}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},toolbox:{iconStyle:{normal:{borderColor:"#999"},emphasis:{borderColor:"#666"}}},legend:{textStyle:{color:"#333"}},tooltip:{axisPointer:{lineStyle:{color:"#ccc",width:1},crossStyle:{color:"#ccc",width:1}}},timeline:{lineStyle:{color:"#293c55",width:1},itemStyle:{normal:{color:"#293c55",borderWidth:1},emphasis:{color:"#a9334c"}},controlStyle:{normal:{color:"#293c55",borderColor:"#293c55",borderWidth:.5},emphasis:{color:"#293c55",borderColor:"#293c55",borderWidth:.5}},checkpointStyle:{color:"#e43c59",borderColor:"rgba(194,53,49, 0.5)"},label:{normal:{textStyle:{color:"#293c55"}},emphasis:{textStyle:{color:"#293c55"}}}},visualMap:{color:["#bf444c","#d88273","#f6efa6"]},dataZoom:{backgroundColor:"rgba(47,69,84,0)",dataBackgroundColor:"rgba(47,69,84,0.3)",fillerColor:"rgba(167,183,204,0.4)",handleColor:"#a7b7cc",handleSize:"100%",textStyle:{color:"#333"}},markPoint:{label:{normal:{textStyle:{color:"#eee"}},emphasis:{textStyle:{color:"#eee"}}}}}),l.a.registerTheme("dark",{color:["#409eff","#c23531","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],backgroundColor:" #373737",textStyle:{},title:{textStyle:{color:"rgba(255,255,255,0.6)"},subtextStyle:{color:"#aaa"}},line:{itemStyle:{normal:{borderWidth:1}},lineStyle:{normal:{width:"1"}},symbolSize:"1",symbol:"circle",smooth:!1},radar:{itemStyle:{normal:{borderWidth:1}},lineStyle:{normal:{width:"1"}},symbolSize:"1",symbol:"circle",smooth:!1},bar:{itemStyle:{normal:{barBorderWidth:0,barBorderColor:"#ccc"},emphasis:{barBorderWidth:0,barBorderColor:"#ccc"}}},pie:{itemStyle:{normal:{borderWidth:0,borderColor:"#ccc"},emphasis:{borderWidth:0,borderColor:"#ccc"}}},scatter:{itemStyle:{normal:{borderWidth:0,borderColor:"#ccc"},emphasis:{borderWidth:0,borderColor:"#ccc"}}},boxplot:{itemStyle:{normal:{borderWidth:0,borderColor:"#ccc"},emphasis:{borderWidth:0,borderColor:"#ccc"}}},parallel:{itemStyle:{normal:{borderWidth:0,borderColor:"#ccc"},emphasis:{borderWidth:0,borderColor:"#ccc"}}},sankey:{itemStyle:{normal:{borderWidth:0,borderColor:"#ccc"},emphasis:{borderWidth:0,borderColor:"#ccc"}}},funnel:{itemStyle:{normal:{borderWidth:0,borderColor:"#ccc"},emphasis:{borderWidth:0,borderColor:"#ccc"}}},gauge:{itemStyle:{normal:{borderWidth:0,borderColor:"#ccc"},emphasis:{borderWidth:0,borderColor:"#ccc"}}},candlestick:{itemStyle:{normal:{color:"#c23531",color0:"#314656",borderColor:"#c23531",borderColor0:"#314656",borderWidth:1}}},graph:{itemStyle:{normal:{borderWidth:0,borderColor:"#ccc"}},lineStyle:{normal:{width:1,color:"#aaa"}},symbolSize:"1",symbol:"circle",smooth:!1,color:["#409eff","#c23531","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],label:{normal:{textStyle:{color:"#eee"}}}},map:{itemStyle:{normal:{areaColor:"#eee",borderColor:"#444",borderWidth:.5},emphasis:{areaColor:"rgba(255,215,0,0.8)",borderColor:"#444",borderWidth:1}},label:{normal:{textStyle:{color:"#000"}},emphasis:{textStyle:{color:"rgb(100,0,0)"}}}},geo:{itemStyle:{normal:{areaColor:"#eee",borderColor:"#444",borderWidth:.5},emphasis:{areaColor:"rgba(255,215,0,0.8)",borderColor:"#444",borderWidth:1}},label:{normal:{textStyle:{color:"#000"}},emphasis:{textStyle:{color:"rgb(100,0,0)"}}}},categoryAxis:{axisLine:{show:!0,lineStyle:{color:"rgba(255,255,255,0.6)"}},axisTick:{show:!1,lineStyle:{color:"#333"}},axisLabel:{show:!0,textStyle:{color:"rgba(255,255,255,0.6)"}},splitLine:{show:!1,lineStyle:{color:["#cccccc","#333333"]}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},valueAxis:{axisLine:{show:!0,lineStyle:{color:"rgba(255,255,255,0.6)"}},axisTick:{show:!1,lineStyle:{color:"#333"}},axisLabel:{show:!0,textStyle:{color:"rgba(255,255,255,0.6)"}},splitLine:{show:!1,lineStyle:{color:["#cccccc","#333333"]}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},logAxis:{axisLine:{show:!0,lineStyle:{color:"rgba(255,255,255,0.6)"}},axisTick:{show:!1,lineStyle:{color:"#333"}},axisLabel:{show:!0,textStyle:{color:"rgba(255,255,255,0.6)"}},splitLine:{show:!1,lineStyle:{color:["#cccccc","#333333"]}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},timeAxis:{axisLine:{show:!0,lineStyle:{color:"rgba(255,255,255,0.6)"}},axisTick:{show:!1,lineStyle:{color:"#333"}},axisLabel:{show:!0,textStyle:{color:"rgba(255,255,255,0.6)"}},splitLine:{show:!1,lineStyle:{color:["#cccccc","#333333"]}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},toolbox:{iconStyle:{normal:{borderColor:"#999"},emphasis:{borderColor:"#666"}}},legend:{textStyle:{color:"rgba(255,255,255,0.6)"}},tooltip:{axisPointer:{lineStyle:{color:"rgba(255,255,255,0.6)",width:1},crossStyle:{color:"rgba(255,255,255,0.6)",width:1}}},timeline:{lineStyle:{color:"#293c55",width:1},itemStyle:{normal:{color:"#293c55",borderWidth:1},emphasis:{color:"#a9334c"}},controlStyle:{normal:{color:"#293c55",borderColor:"#293c55",borderWidth:.5},emphasis:{color:"#293c55",borderColor:"#293c55",borderWidth:.5}},checkpointStyle:{color:"#e43c59",borderColor:"rgba(194,53,49, 0.5)"},label:{normal:{textStyle:{color:"#293c55"}},emphasis:{textStyle:{color:"#293c55"}}}},visualMap:{color:["#bf444c","#d88273","#f6efa6"]},dataZoom:{backgroundColor:"rgba(47,69,84,0)",dataBackgroundColor:"rgba(47,69,84,0.3)",fillerColor:"rgba(167,183,204,0.4)",handleColor:"#a7b7cc",handleSize:"100%",textStyle:{color:"#333"}},markPoint:{label:{normal:{textStyle:{color:"#eee"}},emphasis:{textStyle:{color:"#eee"}}}}});let d=a("3eba");a("ef97"),a("94b1"),a("007d"),a("d28f");var c={name:"indDetail",props:{mini:{type:Boolean,default:!1},darkMode:{type:Boolean,default:!1}},data(){return{chartEL:null,myChart:null,minVal:null,maxVal:null,interVal:null,option:{},DWJZ:0,code:null,codeData:{},boxShadow:!1,loading:!1,dataList:[],timeData:[],isHK:!1}},watch:{},computed:{defaultColor(){return this.darkMode?"rgba(255,255,255,0.6)":"#ccc"},defaultLabelColor(){return this.darkMode?"rgba(255,255,255,0.6)":"#000"},boxClass(){let t="";return this.darkMode&&(t+="darkMode "),this.mini&&(t+="mini"),t}},mounted(){},beforeDestroy(){this.myChart&&this.myChart.clear()},methods:{formatNum(t){return(t/1e4).toFixed(3)+"万"},init(t){console.log("adai",t),this.boxShadow=!0,this.code=t.f13+"."+t.f12,this.codeData=t,setTimeout(()=>{this.initChart()},10)},initChart(){this.chartEL=this.$refs.mainCharts,this.myChart=d.init(this.chartEL,this.darkMode?"dark":"customed"),this.option={tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{show:!0,color:this.defaultColor,backgroundColor:this.darkMode?"rgba(0,0,0,0.8)":"rgba(0,0,0,0.6)"}},formatter:t=>{var e;return e=0==t[0].dataIndex||this.dataList[t[0].dataIndex][1]>this.dataList[t[0].dataIndex-1][1]?'#f56c6c"':'#4eb61b"',`时间：${t[0].name}<br />价格：${this.dataList[t[0].dataIndex][1]}<br />涨幅：${(100*(this.dataList[t[0].dataIndex][1]-this.DWJZ)/this.DWJZ).toFixed(2)}%<br /><span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:${e}"></span>成交量：${this.formatNum(this.dataList[t[0].dataIndex][2])}`}},axisPointer:{link:{xAxisIndex:"all"}},grid:[{top:20,left:52,right:52,height:"50%"},{show:!0,left:60,top:"65%",height:"28%"}],xAxis:[{data:this.timeData,position:"bottom",axisLine:{onZero:!1}},{splitNumber:2,type:"category",gridIndex:1,boundaryGap:!1,data:this.timeData,axisTick:{show:!1},splitLine:{show:!0,lineStyle:{type:"dashed",color:this.defaultColor}},axisLine:{lineStyle:{}},axisPointer:{show:!0,label:{formatter:t=>{if(t.seriesData[0]&&this.dataList[t.seriesData[0].dataIndex]){var e=(this.dataList[t.seriesData[0].dataIndex][2]/1e4).toFixed(3)+"万";return e}}}}}],yAxis:[{type:"value",axisLabel:{color:this.yAxisLabelColor,formatter:t=>t.toFixed(2)},splitLine:{show:!0,lineStyle:{type:"dashed",color:this.defaultColor}},data:[],axisPointer:{show:!0,label:{formatter:function(t){return t.value.toFixed(2)}}}},{type:"value",axisLabel:{color:this.yAxisLabelColor,formatter:t=>{let e=(100*(t-this.DWJZ)/this.DWJZ).toFixed(2);return-0==e&&(e="0.00"),e+"%"}},splitLine:{show:!0,lineStyle:{type:"dashed",color:this.defaultColor}},axisPointer:{show:!0,label:{formatter:t=>(100*(t.value-this.DWJZ)/this.DWJZ).toFixed(2)+"%"}},data:[]},{nameGap:"0",nameTextStyle:{},gridIndex:1,z:4,splitNumber:3,axisLine:{onZero:!1,show:!1},axisTick:{show:!1},splitLine:{show:!1},axisPointer:{show:!0,label:{formatter:function(t){var e=(t.value/1e4).toFixed(2)+"万";return e}}},axisLabel:{inside:!1,fontSize:10,onZero:!1,formatter:function(t){var e=(t/1e4).toFixed(2);return 0==t&&(e="(万)"),e}}}],series:[{name:"涨幅",type:"line",data:[],markLine:{silent:!0,symbol:"none",animation:!1,label:{show:!1},lineStyle:{type:"solid"},data:[{yAxis:0}]}},{name:"价格",type:"line",yAxisIndex:1,symbol:"none",data:[],lineStyle:{normal:{width:0}}},{name:"成交量",type:"bar",gridIndex:1,xAxisIndex:1,yAxisIndex:2,data:[],itemStyle:{normal:{color:this.CJcolor}}}]},this.getData()},close(){this.boxShadow=!1,this.$emit("close",!1)},fmtAxis(t,e){return this.isHK?"12:00"==t?"12:00/13:00":t:"11:30"==t?"11:30/13:00":t},fmtVal(t,e){var a;return a=this.isHK?["09:30","12:00","16:00"]:["09:30","10:30","11:30","14:00","15:00"],-1!=a.indexOf(e)},CJcolor(t,e){var a;return a=0==t.dataIndex||this.dataList[t.dataIndex][1]>this.dataList[t.dataIndex-1][1]?"#f56c6c":"#4eb61b",a},yAxisLabelColor(t,e){return Number(t).toFixed(2)>this.DWJZ.toFixed(2)?"#f56c6c":Number(t).toFixed(2)==this.DWJZ.toFixed(2)?this.defaultLabelColor:"#4eb61b"},handle_num(t){var e=Math.abs((Math.max.apply(null,t)-this.DWJZ)/this.DWJZ),a=Math.abs((Math.min.apply(null,t)-this.DWJZ)/this.DWJZ);return e>a?e:a},getData(){this.loading=!0;let t=`https://push2.eastmoney.com/api/qt/stock/trends2/get?secid=${this.code}&fields1=f1,f2,f3,f4,f5,f6,f7,f8,f9,f10,f11,f12,f13&fields2=f51,f53,f56,f58&iscr=0&iscca=0&ndays=1&forcect=1`;this.$axios.get(t).then(t=>{console.log(t),this.loading=!1,this.DWJZ=t.data.prePrice;let e=t.data.trends.map(t=>t.split(","));this.dataList=e,this.option.series[0].data=e.map(t=>+t[1]),this.option.series[1].data=e.map(t=>+t[1]),this.option.series[2].data=e.map(t=>+t[2]);let a=e[0][0].substr(11,5);if(this.isHK=!1,1==this.codeData.f13||0==this.codeData.f13)this.timeData=this.time_arr("hs"),this.option.xAxis[0].axisLabel={formatter:this.fmtAxis,interval:this.fmtVal},this.option.xAxis[1].axisLabel={formatter:this.fmtAxis,interval:this.fmtVal};else switch(a){case"09:30":this.timeData=this.time_arr("hk"),this.isHK=!0,this.option.xAxis[0].axisLabel={formatter:this.fmtAxis,interval:this.fmtVal},this.option.xAxis[1].axisLabel={formatter:this.fmtAxis,interval:this.fmtVal};break;case"21:30":this.timeData=this.time_arr("us-s");break;case"22:30":this.timeData=this.time_arr("us-w");break;default:break}this.option.xAxis[0].data=this.timeData,this.option.xAxis[1].data=this.timeData,this.option.series[0].markLine.data[0].yAxis=this.DWJZ;let i=this.handle_num(this.option.series[0].data),s=this.DWJZ-this.DWJZ*i,o=this.DWJZ+this.DWJZ*i;this.option.yAxis[0].min=s,this.option.yAxis[0].max=o,this.option.yAxis[0].interval=Math.abs((this.DWJZ-s)/4),this.option.yAxis[1].min=s,this.option.yAxis[1].max=o,this.option.yAxis[1].interval=Math.abs((this.DWJZ-s)/4),this.myChart.setOption(this.option)})},time_arr(t){if(-1!=t.indexOf("us-s")){var e=new Array;return e.push("21:30"),this.getNextTime("21:30","04:00",1,e)}if(-1!=t.indexOf("us-w")){e=new Array;return e.push("22:30"),this.getNextTime("22:30","05:00",1,e)}if(-1!=t.indexOf("hs")){e=new Array;return e.push("09:30"),e.concat(this.getNextTime("09:30","11:30",1,e)),e.concat(this.getNextTime("13:00","15:00",1,e)),e}if(-1!=t.indexOf("hk")){e=new Array;return e.push("09:30"),e.concat(this.getNextTime("09:30","12:00",1,e)),e.concat(this.getNextTime("13:00","16:00",1,e)),e}},getNextTime(t,e,a,i){var s=this.addTimeStr(t,a);return i.push(s),s==e?i:this.getNextTime(s,e,a,i)},addTimeStr(t,e){var a=t.split(":")[0],i=Number(t.split(":")[1]),s=parseInt((i+e)/60),o=parseInt((Number(a)+s)/24);if(s>0){if(o>0){var r=(Number(a)+s)%24+"";a=r.length>1?r:"0"+r}else{r=Number(a)+s+"";a=r.length>1?r:"0"+r}var n=(i+e)%60+"";i=n.length>1?n:0+n}else{n=i+e+"";i=n.length>1?n:"0"+n}return a+":"+i}}},h=c,u=(a("540b"),a("2877")),p=Object(u["a"])(h,o,r,!1,null,"e931b33a",null),m=p.exports,f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.boxShadow?a("div",{staticClass:"shadow",class:t.darkMode?"darkMode":""},[a("div",{staticClass:"content-box"},[a("h5",[t._v(t._s(t.fund.name))]),a("el-tabs",{attrs:{type:"border-card"},on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{lazy:"",label:"净值估算",name:"first"}},[a("charts",{ref:"first",attrs:{darkMode:t.darkMode,fund:t.fund}})],1),a("el-tab-pane",{attrs:{lazy:"",label:"持仓明细",name:"ccmx"}},[a("position-detail",{attrs:{darkMode:t.darkMode,fund:t.fund},on:{sltStock:t.sltStock}})],1),a("el-tab-pane",{attrs:{lazy:"",label:"累计净值",name:"third"}},[a("charts2",{ref:"third",attrs:{darkMode:t.darkMode,fund:t.fund,chartType:"LJJZ"}})],1),a("el-tab-pane",{attrs:{lazy:"",label:"累计收益",name:"fourth"}},[a("charts2",{ref:"fourth",attrs:{darkMode:t.darkMode,fund:t.fund,chartType:"LJSY"}})],1)],1),a("div",{staticClass:"tab-row"},[a("input",{staticClass:"btn",attrs:{type:"button",value:"返回列表"},on:{click:t.close}})])],1),a("ind-detail",{ref:"indDetail",attrs:{mini:"",darkMode:t.darkMode}})],1):t._e()},b=[],g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"mainCharts",staticClass:"main-echarts"})},x=[];let y=a("3eba");a("ef97"),a("007d"),a("d28f");var v={name:"chatrs",props:{darkMode:{type:Boolean,default:!1},fund:{type:Object,required:!0}},data(){return{chartEL:null,myChart:null,minVal:null,maxVal:null,interVal:null,option:{},DWJZ:0,timeData:["09:30","09:31","09:32","09:33","09:34","09:35","09:36","09:37","09:38","09:39","09:40","09:41","09:42","09:43","09:44","09:45","09:46","09:47","09:48","09:49","09:50","09:51","09:52","09:53","09:54","09:55","09:56","09:57","09:58","09:59","10:00","10:01","10:02","10:03","10:04","10:05","10:06","10:07","10:08","10:09","10:10","10:11","10:12","10:13","10:14","10:15","10:16","10:17","10:18","10:19","10:20","10:21","10:22","10:23","10:24","10:25","10:26","10:27","10:28","10:29","10:30","10:31","10:32","10:33","10:34","10:35","10:36","10:37","10:38","10:39","10:40","10:41","10:42","10:43","10:44","10:45","10:46","10:47","10:48","10:49","10:50","10:51","10:52","10:53","10:54","10:55","10:56","10:57","10:58","10:59","11:00","11:01","11:02","11:03","11:04","11:05","11:06","11:07","11:08","11:09","11:10","11:11","11:12","11:13","11:14","11:15","11:16","11:17","11:18","11:19","11:20","11:21","11:22","11:23","11:24","11:25","11:26","11:27","11:28","11:29","11:30","13:00","13:01","13:02","13:03","13:04","13:05","13:06","13:07","13:08","13:09","13:10","13:11","13:12","13:13","13:14","13:15","13:16","13:17","13:18","13:19","13:20","13:21","13:22","13:23","13:24","13:25","13:26","13:27","13:28","13:29","13:30","13:31","13:32","13:33","13:34","13:35","13:36","13:37","13:38","13:39","13:40","13:41","13:42","13:43","13:44","13:45","13:46","13:47","13:48","13:49","13:50","13:51","13:52","13:53","13:54","13:55","13:56","13:57","13:58","13:59","14:00","14:01","14:02","14:03","14:04","14:05","14:06","14:07","14:08","14:09","14:10","14:11","14:12","14:13","14:14","14:15","14:16","14:17","14:18","14:19","14:20","14:21","14:22","14:23","14:24","14:25","14:26","14:27","14:28","14:29","14:30","14:31","14:32","14:33","14:34","14:35","14:36","14:37","14:38","14:39","14:40","14:41","14:42","14:43","14:44","14:45","14:46","14:47","14:48","14:49","14:50","14:51","14:52","14:53","14:54","14:55","14:56","14:57","14:58","14:59","15:00"]}},watch:{},computed:{defaultColor(){return this.darkMode?"rgba(255,255,255,0.6)":"#ccc"},defaultLabelColor(){return this.darkMode?"rgba(255,255,255,0.6)":"#000"}},mounted(){this.init()},methods:{init(){this.chartEL=this.$refs.mainCharts,this.myChart=y.init(this.chartEL,this.darkMode?"dark":"customed"),this.option={tooltip:{trigger:"axis",formatter:t=>`时间：${t[0].name}<br />估算涨跌幅：${t[0].value}%<br />估算净值：${(this.DWJZ*(1+.01*t[0].value)).toFixed(4)}元`},grid:{top:30,left:44,right:46,bottom:30},xAxis:{type:"category",data:this.timeData,position:"bottom",axisLabel:{formatter:this.fmtAxis,interval:this.fmtVal},axisLine:{onZero:!1}},yAxis:[{type:"value",axisLabel:{color:this.yAxisLabelColor,formatter:t=>t.toFixed(2)+"%"},splitLine:{show:!0,lineStyle:{type:"dashed",color:this.defaultColor}},data:[]},{type:"value",axisLabel:{color:this.yAxisLabelColor,formatter:t=>(this.DWJZ*(1+.01*t)).toFixed(4)},splitLine:{show:!0,lineStyle:{type:"dashed",color:this.defaultColor}},data:[]}],series:[{name:"估算涨跌幅",type:"line",data:[],markLine:{silent:!0,symbol:"none",animation:!1,label:{show:!1},lineStyle:{type:"solid"},data:[{yAxis:0}]}},{name:"估算净值",type:"line",symbol:"none",data:[],yAxisIndex:1,lineStyle:{normal:{width:0}}}]},this.getData()},fmtAxis(t,e){return"13:00"==t?"11:30/13:00":t},fmtVal(t,e){let a=["09:30","10:30","13:00","14:00","15:00"];return-1!=a.indexOf(e)},yAxisLabelColor(t,e){return t>0?"#f56c6c":0==t?this.defaultLabelColor:"#4eb61b"},handle_num(t){var e=Math.abs(Math.max.apply(null,t)).toFixed(2),a=Math.abs(Math.min.apply(null,t)).toFixed(2);return e>a?e:a},getData(){let t=`/FundMApi/FundVarietieValuationDetail.ashx?FCODE=${this.fund.fundcode}&deviceid=Wap&plat=Wap&product=EFund&version=2.0.0&_=${(new Date).getTime()}`;this.$axios.get(t).then(t=>{let e=t.Datas.map(t=>t.split(","));this.option.series[0].data=e.map(t=>(+t[2]).toFixed(2)),this.option.series[1].data=e.map(t=>(+t[2]).toFixed(2));let a=this.handle_num(this.option.series[0].data);this.DWJZ=t.Expansion.DWJZ,this.option.yAxis[0].min=-a,this.option.yAxis[0].max=a,this.option.yAxis[0].interval=a/4,this.option.yAxis[1].min=-a,this.option.yAxis[1].max=a,this.option.yAxis[1].interval=a/4,this.myChart.setOption(this.option)})}}},w=v,C=(a("1c9f"),Object(u["a"])(w,g,x,!1,null,"4d928356",null)),S=C.exports,L=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"box",attrs:{"element-loading-background":t.darkMode?"rgba(0, 0, 0, 0.9)":"rgba(255, 255, 255, 0.9)"}},[a("div",{ref:"mainCharts",staticClass:"main-echarts"}),a("div",[a("el-radio-group",{attrs:{size:"mini"},on:{change:t.changeTimeRange},model:{value:t.sltTimeRange,callback:function(e){t.sltTimeRange=e},expression:"sltTimeRange"}},[a("el-radio-button",{attrs:{label:"y"}},[t._v("月")]),a("el-radio-button",{attrs:{label:"3y"}},[t._v("季")]),a("el-radio-button",{attrs:{label:"6y"}},[t._v("半年")]),a("el-radio-button",{attrs:{label:"n"}},[t._v("一年")]),a("el-radio-button",{attrs:{label:"3n"}},[t._v("三年")]),a("el-radio-button",{attrs:{label:"5n"}},[t._v("五年")])],1)],1)])},D=[];let k=a("3eba");a("ef97"),a("007d"),a("d28f");var _={name:"chatrs",props:{darkMode:{type:Boolean,default:!1},fund:{type:Object,required:!0},chartType:{type:String,required:!0}},data(){return{chartEL:null,myChart:null,minVal:null,maxVal:null,interVal:null,sltTimeRange:"y",chartTypeList:{LJJZ:{name:"累计净值"}},option:{},loading:!1}},watch:{},computed:{defaultColor(){return this.darkMode?"rgba(255,255,255,0.6)":"#ccc"}},mounted(){this.init()},beforeDestroy(){this.myChart&&this.myChart.clear()},methods:{init(){this.chartEL=this.$refs.mainCharts,this.myChart=k.init(this.chartEL,this.darkMode?"dark":"customed"),this.option={tooltip:{trigger:"axis",formatter:t=>`时间：${t[0].name}<br />${this.chartTypeList[this.chartType].name}：${t[0].value}`},grid:{top:30,left:50,right:0,bottom:30},xAxis:{type:"category",data:[],axisLabel:{}},yAxis:{type:"value",scale:!0,axisLabel:{color:this.defaultColor,formatter:t=>t.toFixed(2)+"%"},splitLine:{show:!0,lineStyle:{type:"dashed",color:this.defaultColor}},data:[]},series:[{type:"line",data:[]}]},this.getData()},changeTimeRange(t){this.getData()},handle_num_range(t){var e=Math.max.apply(null,t),a=Math.min.apply(null,t);return[e,a]},getData(){if(this.loading=!0,"LJSY"==this.chartType){let t=`/FundMApi/FundYieldDiagramNew.ashx?FCODE=${this.fund.fundcode}&RANGE=${this.sltTimeRange}&deviceid=Wap&plat=Wap&product=EFund&version=2.0.0&_=${(new Date).getTime()}`;this.$axios.get(t).then(t=>{this.loading=!1;let e=t.Datas;e&&(this.option.legend={show:!0},this.option.tooltip.formatter=t=>{let e=t.length>1?`<br />${t[1].seriesName}：${t[1].value}%`:"";return`时间：${t[0].name}<br />${t[0].seriesName}：${t[0].value}%${e}`},this.option.series=[{type:"line",name:"涨幅",data:e.map(t=>+t.YIELD)},{type:"line",name:t.Expansion.INDEXNAME,data:e.map(t=>+t.INDEXYIED)}],this.option.xAxis.data=e.map(t=>t.PDATE),this.myChart.setOption(this.option))})}else{let t=`/FundMApi/FundNetDiagram.ashx?FCODE=${this.fund.fundcode}&RANGE=${this.sltTimeRange}&deviceid=Wap&plat=Wap&product=EFund&version=2.0.0&_=${(new Date).getTime()}`;this.$axios.get(t).then(t=>{this.loading=!1;let e=t.Datas;const a=t.Datas[0].DWJZ;this.option.series=[{type:"line",name:"累计净值",data:e.map(t=>+t.LJJZ)}],this.option.tooltip.formatter=t=>{console.log("p",t);t.length>1&&(t[1].seriesName,t[1].value);return`时间：${t[0].name}\n            \n            <br />日增长率：${e[t[0].dataIndex].JZZZL}%\n            <br />涨幅${((e[t[0].dataIndex].DWJZ-a)/a*100).toFixed(2)}%`},this.option.xAxis.data=e.map(t=>t.FSRQ),this.myChart.setOption(this.option)})}}}},M=_,A=(a("418b"),Object(u["a"])(M,L,D,!1,null,"212206a4",null)),F=A.exports,E=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"box",attrs:{"element-loading-background":t.darkMode?"rgba(0, 0, 0, 0.9)":"rgba(255, 255, 255, 0.9)"}},[a("h5",[t.expansion?a("span",[t._v("截止日期："+t._s(t.expansion))]):a("span",[t._v("暂无数据")])]),a("table",[t._m(0),a("tbody",t._l(t.dataList,(function(e,i){return a("tr",{key:e.GPDM,on:{click:function(e){return t.openPage(i)}}},[a("td",{staticClass:"gpcode",staticStyle:{"text-align":"left"}},[a("div",[t._v(t._s(e.GPJC))]),a("div",[t._v(t._s("（"+e.GPDM+"）"))])]),a("td",[t._v(t._s(t.dataListGp[i].f2.toFixed(2)))]),a("td",{class:t.dataListGp[i].f3>=0?"up":"down"},[t._v("\n          "+t._s(t.dataListGp[i].f3.toFixed(2))+"%\n        ")]),a("td",[t._v(t._s(parseFloat(e.JZBL).toFixed(2))+"%")]),a("td",[t._v(t._s(t.compared(e)))])])})),0)])])},T=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("股票名称")]),a("th",[t._v("价格")]),a("th",[t._v("涨跌幅")]),a("th",[t._v("持仓占比")]),a("th",[t._v("较上期")])])])}],I={components:{},name:"positionDetails",props:{darkMode:{type:Boolean,default:!1},fund:{type:Object,required:!0}},data(){return{dataList:[],dataListGp:[],expansion:null,loading:!1,sltData:{}}},watch:{},computed:{defaultColor(){return this.darkMode?"rgba(255,255,255,0.6)":"#ccc"}},mounted(){this.init()},methods:{init(){this.getData()},getData(){this.loading=!0;let t=`https://fundmobapi.eastmoney.com/FundMNewApi/FundMNInverstPosition?FCODE=${this.fund.fundcode}&deviceid=Wap&plat=Wap&product=EFund&version=2.0.0&Uid=&_=${(new Date).getTime()}`;this.$axios.get(t).then(t=>{let e=t.Datas.fundStocks;if(e){let a=e.map(t=>t.NEWTEXCH+"."+t.GPDM).join(","),i=`https://push2.eastmoney.com/api/qt/ulist.np/get?fields=f1,f2,f3,f4,f12,f13,f14,f292&fltt=2&secids=${a}&deviceid=Wap&plat=Wap&product=EFund&version=2.0.0&Uid=`;this.$axios.get(i).then(a=>{this.loading=!1,this.dataListGp=a.data.diff,this.dataList=e,this.expansion=t.Expansion})}else this.loading=!1})},openPage(t){let e=this.dataListGp[t];this.sltData=e,this.$emit("sltStock",e)},compared(t){if("新增"==t.PCTNVCHGTYPE)return"新增";if(isNaN(t.PCTNVCHG))return 0;{let e=t.PCTNVCHG>0?"↑ ":"↓ ";return e+Math.abs(parseFloat(t.PCTNVCHG)).toFixed(2)+"%"}}}},N=I,W=(a("9502"),Object(u["a"])(N,E,T,!1,null,"3f92e5ed",null)),G=W.exports,z={components:{charts:S,charts2:F,positionDetail:G,indDetail:m},name:"fundDetail",props:{darkMode:{type:Boolean,default:!1},fund:{type:Object,required:!0}},data(){return{activeName:"first",boxShadow:!1}},watch:{},mounted(){},methods:{handleClick(t,e){this.activeName=t.name},init(){this.boxShadow=!0},close(){this.boxShadow=!1,this.$emit("close",!1)},sltStock(t){this.$refs.indDetail.init(t)}}},Z=z,R=(a("610e"),Object(u["a"])(Z,f,b,!1,null,"ca9e35ca",null)),$=R.exports,B=a("527b");const{version:V}=a("9224");let O=null;function J(t,e=700){null!==O&&clearTimeout(O),O=setTimeout(t,e)}var P={components:{fundDetail:$,indDetail:m},data(){return{isEdit:!1,fundcode:"",isAdd:!1,indFundData:[],isLiveUpdate:!1,isDuringDate:!1,RealtimeFundcode:null,dataList:[],myVar:null,myVar1:null,checked:"wepay",showGains:!1,showAmount:!1,showCost:!1,showCostRate:!1,showGSZ:!1,fundList:["001618"],fundListM:[],sortType:{gszzl:"none",amount:"none",gains:"none",costGains:"none",costGainsRate:"none"},searchOptions:[],value:[],list:[],loading:!1,dragging:null,showAddSeciInput:!1,seciList:["1.000001","1.000300","0.399001","0.399006"],allSeciList:[{value:"1.000001",label:"上证指数"},{value:"1.000300",label:"沪深300"},{value:"0.399001",label:"深证成指"},{value:"1.000688",label:"科创50"},{value:"0.399006",label:"创业板指"},{value:"0.399005",label:"中小板指"},{value:"100.HSI",label:"恒生指数"},{value:"100.DJIA",label:"道琼斯"},{value:"100.NDX",label:"纳斯达克"},{value:"100.SPX",label:"标普500"}],sltSeci:"",darkMode:!1,diyContainer:!1,containerWidth:790,containerHeight:590,detailShadow:!1,sltFund:{},localVersion:V,BadgeContent:1,showBadge:1,userId:null,isRefresh:!1}},mounted(){console.log("home mounted"),B["b"].get(["RealtimeFundcode","fundListM","showAmount","showGains","fundList","seciList","darkMode","isLiveUpdate","showCost","showCostRate","showGSZ","version","showBadge","BadgeContent","userId"]).then(t=>{if(this.fundList=t.fundList?t.fundList:this.fundList,t.fundListM)this.fundListM=t.fundListM;else{for(const t of this.fundList){let e={code:t,num:0};this.fundListM.push(e)}B["b"].set({fundListM:this.fundListM})}t.userId?this.userId=t.userId:(this.userId=this.getGuid(),B["b"].set({userId:this.userId})),this.darkMode=!!t.darkMode&&t.darkMode,this.seciList=t.seciList?t.seciList:this.seciList,this.showAmount=!!t.showAmount&&t.showAmount,this.showGains=!!t.showGains&&t.showGains,this.RealtimeFundcode=t.RealtimeFundcode,this.isLiveUpdate=!!t.isLiveUpdate&&t.isLiveUpdate,this.showCost=!!t.showCost&&t.showCost,this.showCostRate=!!t.showCostRate&&t.showCostRate,this.showGSZ=!!t.showGSZ&&t.showGSZ,this.BadgeContent=t.BadgeContent?t.BadgeContent:1,this.showBadge=t.showBadge?t.showBadge:1,this.getIndFundData(),this.getData(),this.checkInterval(!0)})},computed:{allGains(){let t=0;return this.dataList.forEach(e=>{t+=parseFloat(e.gains)}),t=t.toFixed(2),t},allAmount(){let t=0;return this.dataList.forEach(e=>{t+=parseFloat(e.amount)}),t=t.toFixed(2),t},dailyYield(){return this.allAmount?(100*this.allGains/this.allAmount).toFixed(2)+"%":"0%"},allCostGains(){let t=0;return this.dataList.forEach(e=>{t+=parseFloat(e.costGains)}),t=t.toFixed(2),t},containerClass(){let t="";if(this.darkMode&&(t+="darkMode "),this.detailShadow)t+="detail-container";else if(this.isEdit)t+="more-width";else{let t=[this.showAmount,this.showGains,this.showCost,this.showCostRate,this.showGSZ],e=0;t.forEach(t=>{t&&e++})}return t},userSeciList(){return this.allSeciList.filter(t=>-1==this.seciList.indexOf(t.value))},tableHeight(){if(this.isEdit)return"table-more-height"},drag(){return this.isEdit?"table-drag":""}},watch:{isEdit(t){t?(clearInterval(this.myVar),clearInterval(this.myVar1)):this.checkInterval()}},methods:{refresh(){this.getData(),this.isRefresh=!0,setTimeout(()=>{this.isRefresh=!1},1500)},getGuid(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0,a="x"==t?e:3&e|8;return a.toString(16)}))},indDetail(t){this.detailShadow=!0,this.$refs.indDetail.init(t)},fundDetail(t){this.sltFund=t,this.detailShadow=!0,this.$refs.charts.init()},closeCharts(){this.detailShadow=!1},checkInterval(t){clearInterval(this.myVar),clearInterval(this.myVar1),B["a"].runtime.sendMessage({type:"DuringDate"},e=>{this.isDuringDate=e.farewell,this.isLiveUpdate&&this.isDuringDate?(t||(this.getIndFundData(),this.getData()),this.myVar=setInterval(()=>{this.getIndFundData()},5e3),this.myVar1=setInterval(()=>{this.getData()},6e4)):(clearInterval(this.myVar),clearInterval(this.myVar1))})},selectChange(){this.searchOptions=[]},remoteMethod(t){if(""!==t){this.loading=!0;let e="/FundSearch/api/FundSearchAPI.ashx?&m=9&key="+t+"&_="+(new Date).getTime();this.$axios.get(e).then(t=>{this.searchOptions=t.Datas.filter(t=>{let e=this.fundListM.some((e,a,i)=>e.code==t.CODE);return!e}).map(t=>({value:t.CODE,label:t.NAME})),this.loading=!1})}else this.searchOptions=[]},option(){this.$router.push("/option")},sortList(t){for(const e in this.sortType)this.sortType.hasOwnProperty(e)&&e!=t&&(this.sortType[e]="none");this.sortType[t]="desc"==this.sortType[t]?"asc":"desc",this.dataList=this.dataList.sort(this.compare(t,this.sortType[t]))},compare(t,e){return function(a,i){var s=a[t],o=i[t];return"asc"==e?s-o:o-s}},changeDarkMode(){B["b"].set({darkMode:this.darkMode})},changeLiveUpdate(){B["b"].set({isLiveUpdate:!this.isLiveUpdate},()=>{this.isLiveUpdate=!this.isLiveUpdate,this.checkInterval()})},saveSeci(){this.seciList.push(this.sltSeci),B["b"].set({seciList:this.seciList},()=>{this.sltSeci="",this.getIndFundData()})},dltIndFund(t){this.seciList.splice(t,1),B["b"].set({seciList:this.seciList},()=>{this.getIndFundData()})},getIndFundData(){let t=this.seciList.join(","),e="https://push2.eastmoney.com/api/qt/ulist.np/get?fltt=2&fields=f2,f3,f4,f12,f13,f14&secids="+t+"&_="+(new Date).getTime();this.$axios.get(e).then(t=>{this.indFundData=t.data.diff})},getData(){console.log("获取列表数据");let t=this.fundListM.map(t=>t.code).join(","),e="https://fundmobapi.eastmoney.com/FundMNewApi/FundMNFInfo?pageIndex=1&pageSize=50&plat=Android&appType=ttjj&product=EFund&Version=1&deviceid="+this.userId+"&Fcodes="+t;this.$axios.get(e).then(t=>{let e=t.Datas;console.log(1,e),this.dataList=[];let a=[];e.forEach(t=>{let e={fundcode:t.FCODE,name:t.SHORTNAME,jzrq:t.PDATE,dwjz:t.NAV,gsz:isNaN(t.GSZ)?null:t.GSZ,gszzl:isNaN(t.GSZZL)?0:t.GSZZL,gztime:t.GZTIME};t.PDATE==t.GZTIME.substr(0,10)&&(e.gsz=t.NAV,e.gszzl=isNaN(t.NAVCHGRT)?0:t.NAVCHGRT,e.hasReplace=!0);let i=this.fundListM.filter(t=>t.code==e.fundcode);e.num=i[0].num,e.cost=i[0].cost,e.amount=this.calculateMoney(e),e.gains=this.calculate(e,e.hasReplace),e.costGains=this.calculateCost(e),e.costGainsRate=this.calculateCostRate(e),e.fundcode==this.RealtimeFundcode&&1==this.showBadge&&1==this.BadgeContent&&B["a"].runtime.sendMessage({type:"refreshBadge",data:e}),a.push(e)}),1==this.showBadge&&2==this.BadgeContent&&B["a"].runtime.sendMessage({type:"refreshBadgeAllGains",data:e}),this.dataList=a,console.log(this.dataList)}).catch(t=>{console.log(t)})},changeNum(t,e){J(()=>{for(let e of this.fundListM)e.code==t.fundcode&&(e.num=t.num);B["b"].set({fundListM:this.fundListM},()=>{t.amount=this.calculateMoney(t),t.gains=this.calculate(t,t.hasReplace),t.costGains=this.calculateCost(t),B["a"].runtime.sendMessage({type:"refresh"})})})},changeCost(t,e){J(()=>{for(let e of this.fundListM)e.code==t.fundcode&&(e.cost=t.cost);B["b"].set({fundListM:this.fundListM},()=>{t.costGains=this.calculateCost(t),t.costGainsRate=this.calculateCostRate(t)})})},calculateMoney(t){let e=(t.dwjz*t.num).toFixed(2);return e},calculate(t,e){var a=0;let i=t.num?t.num:0;return e?a=((t.dwjz-t.dwjz/(1+.01*t.gszzl))*i).toFixed(2):t.gsz&&(a=((t.gsz-t.dwjz)*i).toFixed(2)),a},calculateCost(t){if(t.cost){let e=((t.dwjz-t.cost)*t.num).toFixed(2);return e}return 0},calculateCostRate(t){if(t.cost&&0!=t.cost){let e=((t.dwjz-t.cost)/t.cost*100).toFixed(2);return e}return 0},save(){this.fundcode.forEach(t=>{let e={code:t,num:0};this.fundListM.push(e)}),B["b"].set({fundListM:this.fundListM},()=>{this.fundcode=[],this.getData(),B["a"].runtime.sendMessage({type:"refresh"})})},slt(t){t==this.RealtimeFundcode?B["b"].set({RealtimeFundcode:null},()=>{this.RealtimeFundcode=null,B["a"].runtime.sendMessage({type:"endInterval"})}):B["b"].set({RealtimeFundcode:t},()=>{this.RealtimeFundcode=t,B["a"].runtime.sendMessage({type:"refresh"})})},dlt(t){this.fundListM=this.fundListM.filter((function(e){return e.code!=t})),t==this.RealtimeFundcode&&B["b"].set({RealtimeFundcode:null},()=>{this.RealtimeFundcode=null,1==this.BadgeContent&&B["a"].runtime.sendMessage({type:"endInterval"})}),B["b"].set({fundListM:this.fundListM},()=>{this.dataList=this.dataList.filter((function(e){return e.fundcode!=t})),2==this.BadgeContent&&B["a"].runtime.sendMessage({type:"refresh"})})},handleDragStart(t,e){this.dragging=e},handleDragOver(t){t.dataTransfer.dropEffect="move"},handleDragEnd(t,e){this.dragging=null,e.fundcode?B["b"].set({fundListM:this.fundListM},()=>{}):e.f12&&B["b"].set({seciList:this.seciList},()=>{})},handleDragEnter(t,e,a){if(this.dragging&&this.dragging.fundcode&&e.fundcode){if(t.dataTransfer.effectAllowed="move",e.fundcode===this.dragging.fundcode)return;const a=[...this.fundListM],i=a.findIndex(t=>t.code==this.dragging.fundcode),s=a.findIndex(t=>t.code==e.fundcode);a.splice(s,0,...a.splice(i,1)),this.fundListM=a;const o=[...this.dataList],r=o.findIndex(t=>t.fundcode==this.dragging.fundcode),n=o.findIndex(t=>t.fundcode==e.fundcode);o.splice(n,0,...o.splice(r,1)),this.dataList=o}else if(this.dragging&&this.dragging.f12&&e.f12){if(t.dataTransfer.effectAllowed="move",e.f12===this.dragging.f12)return;const a=[...this.seciList],i=a.findIndex(t=>t.split(".")[1]==this.dragging.f12),s=a.findIndex(t=>t.split(".")[1]==e.f12);a.splice(s,0,...a.splice(i,1)),this.seciList=a;const o=[...this.indFundData],r=o.findIndex(t=>t.f12==this.dragging.f12),n=o.findIndex(t=>t.f12==e.f12);o.splice(n,0,...o.splice(r,1)),this.indFundData=o}}},destroyed(){clearInterval(this.myVar),clearInterval(this.myVar1)}},j=P,H=(a("1028"),Object(u["a"])(j,i,s,!1,null,"42258c46",null));e["default"]=H.exports},9224:function(t){t.exports=JSON.parse('{"name":"crm2.0","version":"2.0.6","private":true,"scripts":{"serve":"vue-cli-service serve","dev":"vue-cli-service serve","build":"vue-cli-service build","lint":"vue-cli-service lint","analyz":"vue-cli-service build --mode analyze"},"dependencies":{"axios":"^0.19.0","babel-polyfill":"^6.26.0","core-js":"^2.6.5","echarts":"^4.2.1","element-ui":"^2.10.1","vue":"^2.6.10","vue-router":"3.0.3"},"devDependencies":{"@vue/cli-service":"^3.9.0","babel-plugin-component":"^1.1.1","eslint":"^5.16.0","eslint-plugin-vue":"^5.0.0","vue-template-compiler":"^2.6.10","sass-loader":"^7.0.3","node-sass":"^4.9.2"},"eslintConfig":{"root":true,"env":{"node":true},"extends":["plugin:vue/essential","eslint:recommended"],"rules":{"no-console":0},"parserOptions":{"parser":"babel-eslint"}},"postcss":{"plugins":{"autoprefixer":{}}},"browserslist":["> 1%","last 2 versions","not ie <= 8"]}')},9502:function(t,e,a){"use strict";a("a217")},a217:function(t,e,a){},bd51:function(t,e,a){},beb3:function(t,e,a){},c0f1:function(t,e,a){},f832:function(t,e,a){}}]);